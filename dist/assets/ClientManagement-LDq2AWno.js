import{u as Qe,j as e,k as Me,p as Ee,o as ee,m as $e,w as Re,x as gs,t as Ze,r as _e,y as De,g as Z,R as re,B as Le,D as us,G as bs,H as hs,I as ys,J as js,K as fs,N as vs,O as Ns,P as Xe,Q as $s,S as ke,U as ws,V as Ge,W as _s,X as Te,Y as ks,Z as We,_ as Ie,$ as Ss,a0 as Cs,a1 as As,f as es,q as Fe,i as Bs,h as ss,a2 as Pe,a3 as ze,a4 as qe,a5 as Ds,v as Y,z as S,a6 as Ls,a7 as He,a8 as Es,s as Ye,a9 as Rs,aa as Je}from"./admin-CKRX_Iv4.js";import{u as Is,r as u}from"./router-CINeAvhf.js";import"./icons-DnVO2Lau.js";import"./vendor-DJG_os-6.js";const we=[{value:"saas-software",label:"SaaS & Software Development"},{value:"technology-it",label:"Technology / IT Services"},{value:"healthcare-clinics",label:"Healthcare & Clinics"},{value:"finance-insurance",label:"Finance & Insurance"},{value:"retail-ecommerce",label:"Retail & E-Commerce"},{value:"education-training",label:"Education & Training"},{value:"real-estate-property",label:"Real Estate & Property"},{value:"hospitality-travel",label:"Hospitality & Travel"},{value:"food-beverage",label:"Food & Beverage (Restaurants, Cafes, Catering)"},{value:"automotive-transportation",label:"Automotive & Transportation"},{value:"legal-professional",label:"Legal & Professional Services"},{value:"manufacturing-industrial",label:"Manufacturing & Industrial"},{value:"consulting-business",label:"Consulting & Business Services"},{value:"marketing-advertising",label:"Marketing & Advertising"},{value:"construction-home",label:"Construction & Home Services"},{value:"logistics-supply",label:"Logistics & Supply Chain"},{value:"media-entertainment",label:"Media & Entertainment"},{value:"beauty-wellness",label:"Beauty, Wellness & Personal Care"},{value:"nonprofit-community",label:"Nonprofit & Community Organizations"},{value:"other",label:"Other"}],Ps=[{value:"sales",label:"Sales & Business Development"},{value:"support",label:"Customer Support & Service"},{value:"appointment",label:"Appointment & Scheduling"},{value:"order",label:"Order Management & Billing"},{value:"product",label:"Product / Service Explainers"},{value:"feedback",label:"Feedback & Engagement"},{value:"custom",label:"Custom Workflows"}],as=[{value:"sales-business-development",label:"Sales & Business Development"},{value:"customer-support-service",label:"Customer Support & Service"},{value:"appointment-scheduling",label:"Appointment & Scheduling"},{value:"order-billing",label:"Order Management & Billing"},{value:"product-service-explainers",label:"Product / Service Explainers"},{value:"feedback-engagement",label:"Feedback & Engagement"},{value:"custom-workflows",label:"Custom Workflows"}],Ms=[{value:"All",label:"ðŸŒ Multilingual"},{value:"ar",label:"ðŸ‡¸ðŸ‡¦ Arabic"},{value:"zh",label:"ðŸ‡¨ðŸ‡³ Chinese"},{value:"nl",label:"ðŸ‡³ðŸ‡± Dutch"},{value:"en-GB",label:"ðŸ‡¬ðŸ‡§ English (UK)"},{value:"en-US",label:"ðŸ‡ºðŸ‡¸ English (US)"},{value:"en-IN",label:"ðŸ‡®ðŸ‡³ English (India)"},{value:"fr",label:"ðŸ‡«ðŸ‡· French"},{value:"de",label:"ðŸ‡©ðŸ‡ª German"},{value:"hi",label:"ðŸ‡®ðŸ‡³ Hindi"},{value:"it",label:"ðŸ‡®ðŸ‡¹ Italian"},{value:"ja",label:"ðŸ‡¯ðŸ‡µ Japanese"},{value:"ko",label:"ðŸ‡°ðŸ‡· Korean"},{value:"pt",label:"ðŸ‡µðŸ‡¹ Portuguese"},{value:"pl",label:"ðŸ‡µðŸ‡± Polish"},{value:"ru",label:"ðŸ‡·ðŸ‡º Russian"},{value:"es",label:"ðŸ‡ªðŸ‡¸ Spanish"},{value:"tr",label:"ðŸ‡¹ðŸ‡· Turkish"}],Fs=[{value:"neutral",label:"Gender Neutral"},{value:"male",label:"Male"},{value:"female",label:"Female"}],Ne=[{id:"starter",name:"Starter",apiKey:"Starter Plan",description:"Perfect for small businesses",maxAgents:1,aiEmployees:1,price:"$49/mo"},{id:"professional",name:"Professional",apiKey:"Professional Plan",description:"For Growing Teams & Small Businesses",maxAgents:5,aiEmployees:5,price:"$149/mo"},{id:"business",name:"Business",apiKey:"Business Plan",description:"For Scaling Companies & Mid-Sized Teams",maxAgents:15,aiEmployees:15,price:"$299/mo"},{id:"custom",name:"Custom",apiKey:"Custom Plan",description:"For Large Organizations & Enterprises",maxAgents:999,aiEmployees:999,price:"Custom"}],Os=({client:r,onBack:s,onEdit:a,onDelete:m,onApprove:I,onReject:f,onViewAgent:M})=>{const{theme:O,currentTheme:d}=Qe(),[$,w]=u.useState("onboarding"),[_,ie]=u.useState(!1),x={totalAIEmployees:r?.ai_employees?.length||0,liveAIEmployees:r?.ai_employees?.filter(U=>U.status==="active")?.length||0,totalCalls:1247,totalRevenue:2450,isActive:r?.isApproved||!1},A=[{id:"onboarding",label:"Onboarding Data",icon:re},{id:"details",label:"Client Details",icon:es},{id:"employees",label:"AI Employees",icon:Z},{id:"transactions",label:"Transactions",icon:ss}];return e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsx("div",{className:"flex flex-col gap-3 sm:gap-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-3 sm:gap-4 min-w-0",children:[e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 min-w-0 flex-1",children:[e.jsx("button",{onClick:s,className:`p-2 rounded-lg ${d.hover} ${d.text} transition-all duration-200 flex-shrink-0 mt-1`,children:e.jsx(Me,{className:"w-5 h-5"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${d.text} truncate`,children:r?.userData?.fullName||r?.company_basics?.name||"Client Details"}),e.jsx("p",{className:`text-sm ${d.textSecondary} truncate mt-1`,children:r?.userData?.email||r?.company_basics?.company_email||""})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(r?.userData?.isOnboarded||r?.isOnboarded)&&!r?.onboarding?.status==="approved"&&!r?.isRejected&&e.jsxs(e.Fragment,{children:[console.log("Rendering Accept/Reject buttons for client:",r),e.jsxs("button",{onClick:()=>f&&f(r?.onboardingDetails?.onboarding||r?.onBoarding||r),className:"px-3 py-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded-lg transition-all duration-200 flex items-center gap-2",title:"Reject Client",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Reject"})]}),e.jsxs("button",{onClick:()=>I&&I(r?.onboardingDetails?.onboarding||r?.onBoarding||r),className:"px-3 py-2 bg-green-500 hover:bg-green-600 text-white text-sm font-medium rounded-lg transition-all duration-200 flex items-center gap-2",title:"Approve Client",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Approve"})]})]}),e.jsx("button",{onClick:()=>a&&a(r?.userData),className:`p-2 rounded-lg ${d.hover} ${d.text} transition-all duration-200`,title:"Edit Client",children:e.jsx(Ee,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m&&m(r?.userData),className:"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-red-500 transition-all duration-200",title:"Delete Client",children:e.jsx(Fe,{className:"w-4 h-4"})})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"hidden lg:grid lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:`${d.cardBg} border ${d.border} rounded-lg p-4 md:p-6 shadow-lg hover:scale-[1.02] transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-lg ${d.searchBg} flex items-center justify-center`,children:e.jsx(Z,{className:`w-5 h-5 md:w-6 md:h-6 ${d.text}`})}),e.jsx("span",{className:`text-sm font-medium ${d.textSecondary}`,children:"Total"})]}),e.jsx("h3",{className:`text-2xl md:text-3xl font-semibold ${d.text} mb-1`,children:x.totalAIEmployees}),e.jsx("p",{className:`text-sm font-medium ${d.text} mb-1`,children:"AI Employees"}),e.jsx("p",{className:`text-xs ${d.textSecondary}`,children:"Configured"})]}),e.jsxs("div",{className:`${d.cardBg} border ${d.border} rounded-lg p-4 md:p-6 shadow-lg hover:scale-[1.02] transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-lg ${d.searchBg} flex items-center justify-center`,children:e.jsx(Je,{className:`w-5 h-5 md:w-6 md:h-6 ${d.text}`})}),e.jsx("span",{className:`text-sm font-medium ${d.textSecondary}`,children:"Live"})]}),e.jsx("h3",{className:`text-2xl md:text-3xl font-semibold ${d.text} mb-1`,children:x.liveAIEmployees}),e.jsx("p",{className:`text-sm font-medium ${d.text} mb-1`,children:"Active Now"}),e.jsx("p",{className:`text-xs ${d.textSecondary}`,children:"Online"})]}),e.jsxs("div",{className:`${d.cardBg} border ${d.border} rounded-lg p-4 md:p-6 shadow-lg hover:scale-[1.02] transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-lg ${d.searchBg} flex items-center justify-center`,children:e.jsx(_e,{className:`w-5 h-5 md:w-6 md:h-6 ${d.text}`})}),e.jsx("span",{className:`text-sm font-medium ${d.textSecondary}`,children:"Calls"})]}),e.jsx("h3",{className:`text-2xl md:text-3xl font-semibold ${d.text} mb-1`,children:x.totalCalls.toLocaleString()}),e.jsx("p",{className:`text-sm font-medium ${d.text} mb-1`,children:"Total Calls"}),e.jsx("p",{className:`text-xs ${d.textSecondary}`,children:"This month"})]}),e.jsxs("div",{className:`${d.cardBg} border ${d.border} rounded-lg p-4 md:p-6 shadow-lg hover:scale-[1.02] transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-lg ${d.searchBg} flex items-center justify-center`,children:e.jsx(Pe,{className:`w-5 h-5 md:w-6 md:h-6 ${d.text}`})}),e.jsx("span",{className:`text-sm font-medium ${d.textSecondary}`,children:x.isActive?"Active":"Inactive"})]}),e.jsxs("h3",{className:`text-2xl md:text-3xl font-semibold ${d.text} mb-1`,children:["$",x.totalRevenue.toFixed(2)]}),e.jsx("p",{className:`text-sm font-medium ${d.text} mb-1`,children:"Revenue"}),e.jsx("p",{className:`text-xs ${d.textSecondary}`,children:"Monthly"})]})]}),e.jsx("div",{className:"lg:hidden overflow-x-auto scrollbar-hide",children:e.jsxs("div",{className:"flex gap-3 md:gap-4 pb-2 px-1",style:{width:"max-content"},children:[e.jsx("div",{className:"group flex-shrink-0 w-44 md:w-52",children:e.jsxs("div",{className:`${d.cardBg} border ${d.border} rounded-lg p-3 md:p-4 hover:scale-[1.02] transition-all duration-200 shadow-lg`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-3",children:[e.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-lg ${d.searchBg} flex items-center justify-center`,children:e.jsx(Z,{className:`w-4 h-4 md:w-5 md:h-5 ${d.text}`})}),e.jsx("span",{className:`text-xs font-medium ${d.textSecondary}`,children:"Total"})]}),e.jsx("h3",{className:`text-xl md:text-2xl font-semibold ${d.text} mb-1`,children:x.totalAIEmployees}),e.jsx("p",{className:`text-xs md:text-sm font-medium ${d.text} mb-1 leading-tight`,children:"AI Employees"}),e.jsx("p",{className:`text-xs ${d.textSecondary} leading-tight`,children:"Configured"})]})}),e.jsx("div",{className:"group flex-shrink-0 w-44 md:w-52",children:e.jsxs("div",{className:`${d.cardBg} border ${d.border} rounded-lg p-3 md:p-4 hover:scale-[1.02] transition-all duration-200 shadow-lg`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-3",children:[e.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-lg ${d.searchBg} flex items-center justify-center`,children:e.jsx(Je,{className:`w-4 h-4 md:w-5 md:h-5 ${d.text}`})}),e.jsx("span",{className:`text-xs font-medium ${d.textSecondary}`,children:"Live"})]}),e.jsx("h3",{className:`text-xl md:text-2xl font-semibold ${d.text} mb-1`,children:x.liveAIEmployees}),e.jsx("p",{className:`text-xs md:text-sm font-medium ${d.text} mb-1 leading-tight`,children:"Active Now"}),e.jsx("p",{className:`text-xs ${d.textSecondary} leading-tight`,children:"Online"})]})}),e.jsx("div",{className:"group flex-shrink-0 w-44 md:w-52",children:e.jsxs("div",{className:`${d.cardBg} border ${d.border} rounded-lg p-3 md:p-4 hover:scale-[1.02] transition-all duration-200 shadow-lg`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-3",children:[e.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-lg ${d.searchBg} flex items-center justify-center`,children:e.jsx(_e,{className:`w-4 h-4 md:w-5 md:h-5 ${d.text}`})}),e.jsx("span",{className:`text-xs font-medium ${d.textSecondary}`,children:"Calls"})]}),e.jsx("h3",{className:`text-xl md:text-2xl font-semibold ${d.text} mb-1`,children:x.totalCalls.toLocaleString()}),e.jsx("p",{className:`text-xs md:text-sm font-medium ${d.text} mb-1 leading-tight`,children:"Total Calls"}),e.jsx("p",{className:`text-xs ${d.textSecondary} leading-tight`,children:"This month"})]})}),e.jsx("div",{className:"group flex-shrink-0 w-44 md:w-52",children:e.jsxs("div",{className:`${d.cardBg} border ${d.border} rounded-lg p-3 md:p-4 hover:scale-[1.02] transition-all duration-200 shadow-lg`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-3",children:[e.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-lg ${d.searchBg} flex items-center justify-center`,children:e.jsx(Pe,{className:`w-4 h-4 md:w-5 md:h-5 ${d.text}`})}),e.jsx("span",{className:`text-xs font-medium ${d.textSecondary}`,children:x.isActive?"Active":"Inactive"})]}),e.jsxs("h3",{className:`text-xl md:text-2xl font-semibold ${d.text} mb-1`,children:["$",x.totalRevenue.toFixed(2)]}),e.jsx("p",{className:`text-xs md:text-sm font-medium ${d.text} mb-1 leading-tight`,children:"Revenue"}),e.jsx("p",{className:`text-xs ${d.textSecondary} leading-tight`,children:"Monthly"})]})})]})})]}),e.jsxs("div",{className:`${d.cardBg} border ${d.border} rounded-lg shadow-lg`,children:[e.jsx("div",{className:`flex gap-1 border-b ${d.border} overflow-x-auto scrollbar-hide`,children:A.map(U=>e.jsxs("button",{onClick:()=>w(U.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-all duration-200 whitespace-nowrap ${$===U.id?`${d.text} border-b-2 border-blue-500`:`${d.textSecondary} hover:${d.text}`}`,children:[e.jsx(U.icon,{className:"w-4 h-4"}),U.label]},U.id))}),e.jsxs("div",{className:"p-6",children:[$==="onboarding"&&e.jsx(Us,{client:r,currentTheme:d},`onboarding-${r?._id}`),$==="details"&&e.jsx(Ks,{client:r,currentTheme:d},`details-${r?._id}`),$==="employees"&&e.jsx(Vs,{client:r,currentTheme:d,onViewAgent:M},`employees-${r?._id}-${$}`),$==="transactions"&&e.jsx(Ws,{client:r,currentTheme:d},`transactions-${r?._id}`)]})]})]})},Us=({client:r,currentTheme:s})=>{const a=r?.onboardingDetails?.onboarding||r?.userData?.onboarding||r?.onboarding||{};return console.log("ðŸ” OnboardingDataTab - Full client data:",r),console.log("ðŸ” OnboardingDataTab - Onboarding data:",a),e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${s.text} mb-4`,children:"Onboarding Information"}),!a||Object.keys(a).length===0?e.jsxs("div",{className:`text-center py-8 rounded-lg border-2 border-dashed ${s.border}`,children:[e.jsx(re,{className:`w-12 h-12 mx-auto mb-3 ${s.textSecondary} opacity-50`}),e.jsx("p",{className:`${s.textSecondary} font-medium mb-2`,children:"No onboarding data available"}),e.jsx("p",{className:`${s.textSecondary} text-sm opacity-75`,children:"This client hasn't completed the onboarding process yet"})]}):e.jsxs("div",{className:"space-y-6",children:[a.company_basics&&e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-xl p-4 md:p-6 shadow-lg`,children:[e.jsxs("h4",{className:`text-base md:text-lg font-semibold ${s.text} mb-3 md:mb-4 flex items-center gap-2`,children:[e.jsx(Re,{className:"w-4 h-4 md:w-5 md:h-5"}),"Company Basics"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[a.company_basics.name&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Company Name"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.company_basics.name})]}),a.company_basics.company_email&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Company Email"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.company_basics.company_email})]}),a.company_basics.company_phone&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Phone"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.company_basics.company_phone})]}),a.company_basics.website&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Website"}),e.jsx("p",{className:`${s.text} font-medium`,children:e.jsx("a",{href:a.company_basics.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:a.company_basics.website})})]}),a.company_basics.company_size&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Company Size"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.company_basics.company_size})]}),a.company_basics.linkedin_profile&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"LinkedIn"}),e.jsx("p",{className:`${s.text} font-medium`,children:e.jsx("a",{href:a.company_basics.linkedin_profile,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"LinkedIn Profile"})})]})]}),a.company_basics.industry&&Array.isArray(a.company_basics.industry)&&a.company_basics.industry.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Industries"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.company_basics.industry.map((m,I)=>{const f=we.find(M=>M.value===m)?.label||m;return e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:f},I)})})]}),a.company_basics.description&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Description"}),e.jsx("p",{className:`${s.text} leading-relaxed`,children:a.company_basics.description})]}),a.company_basics.address&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Address"}),e.jsx("p",{className:`${s.text} leading-relaxed`,children:a.company_basics.address})]})]}),a.plan_details&&e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-xl p-4 md:p-6 shadow-lg`,children:[e.jsxs("h4",{className:`text-base md:text-lg font-semibold ${s.text} mb-3 md:mb-4 flex items-center gap-2`,children:[e.jsx(Ze,{className:"w-4 h-4 md:w-5 md:h-5"}),"Plan Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[a.plan_details.type&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Plan Type"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.plan_details.type})]}),a.plan_details.billing_contact&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Billing Contact"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.plan_details.billing_contact.name&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Name"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.plan_details.billing_contact.name})]}),a.plan_details.billing_contact.email&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Email"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.plan_details.billing_contact.email})]}),a.plan_details.billing_contact.phone&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Phone"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.plan_details.billing_contact.phone})]})]})]})]})]}),a.deployment_targets&&e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-xl p-4 md:p-6 shadow-lg`,children:[e.jsxs("h4",{className:`text-base md:text-lg font-semibold ${s.text} mb-3 md:mb-4 flex items-center gap-2`,children:[e.jsx(Te,{className:"w-4 h-4 md:w-5 md:h-5"}),"Deployment Targets"]}),a.deployment_targets.channels&&Array.isArray(a.deployment_targets.channels)&&a.deployment_targets.channels.length>0&&e.jsxs("div",{className:"mb-3 md:mb-4",children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Deployment Channels"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.deployment_targets.channels.map((m,I)=>e.jsx("span",{className:"bg-green-100 text-green-800 px-2 md:px-3 py-1 rounded-full text-xs md:text-sm font-medium capitalize",children:m.replace("_"," ")},I))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[a.deployment_targets.website_url&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Website URL"}),e.jsx("p",{className:`${s.text} font-medium`,children:e.jsx("a",{href:a.deployment_targets.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:a.deployment_targets.website_url})})]}),a.deployment_targets.whatsapp_phone&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"WhatsApp Phone"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.deployment_targets.whatsapp_phone})]}),a.deployment_targets.support_email&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Support Email"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.deployment_targets.support_email})]})]})]}),a.ai_employees&&Array.isArray(a.ai_employees)&&a.ai_employees.length>0&&e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-xl p-4 md:p-6 shadow-lg`,children:[e.jsxs("h4",{className:`text-base md:text-lg font-semibold ${s.text} mb-3 md:mb-4 flex items-center gap-2`,children:[e.jsx(Z,{className:"w-4 h-4 md:w-5 md:h-5"}),"AI Employees (",a.ai_employees.length,")"]}),e.jsx("div",{className:"space-y-3 md:space-y-4",children:a.ai_employees.map((m,I)=>e.jsxs("div",{className:`border ${s.border} rounded-lg p-3 md:p-4 ${s.searchBg}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e.jsx(Z,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h5",{className:`font-medium ${s.text} truncate`,children:m?.name||`AI Employee #${I+1}`}),e.jsx("p",{className:`text-xs ${s.textSecondary} truncate`,children:m?.template||m?.type||"Custom Agent"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 text-sm",children:[m?.template&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Template"}),e.jsx("p",{className:`${s.text}`,children:as.find(f=>f.value===m.template)?.label||m.template})]}),m?.preferred_language&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Language"}),e.jsx("p",{className:`${s.text}`,children:m.preferred_language})]}),m?.agent_personality&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Personality"}),e.jsx("p",{className:`${s.text} capitalize`,children:m.agent_personality})]}),m?.voice_gender&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Voice"}),e.jsxs("p",{className:`${s.text}`,children:[m.voice_gender," -"," ",m.voice_style||"Default"]})]})]}),m?.special_instructions&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Special Instructions"}),e.jsx("p",{className:`${s.text} text-sm leading-relaxed`,children:m.special_instructions})]}),m?.targets?.success_metrics&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Success Metrics"}),e.jsx("p",{className:`${s.text} text-sm leading-relaxed`,children:m.targets.success_metrics})]}),m?.knowledge_sources&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Knowledge Sources"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[m.knowledge_sources.website_url&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Website URL"}),e.jsx("p",{className:`${s.text}`,children:e.jsx("a",{href:m.knowledge_sources.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:m.knowledge_sources.website_url})})]}),m.knowledge_sources.faqs_text&&e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"FAQs Text"}),e.jsxs("p",{className:`${s.text}`,children:[m.knowledge_sources.faqs_text.substring(0,100),m.knowledge_sources.faqs_text.length>100?"...":""]})]})]})]}),m?.workflows&&Array.isArray(m.workflows)&&m.workflows.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Workflows"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.workflows.map((f,M)=>e.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-md text-xs font-medium",children:f.name},M))})]})]},I))})]})]})]})},Ks=({client:r,currentTheme:s})=>{const a=r?.userData||r||{},m=r?.company_basics||r?.userData?.onboarding?.company_basics||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${s.text} mb-4`,children:"Client Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${s.textSecondary} uppercase block mb-2`,children:"Full Name"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.fullName||a.name||m.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${s.textSecondary} uppercase block mb-2`,children:"Email"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.email||m.company_email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${s.textSecondary} uppercase block mb-2`,children:"Phone"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.phone||m.company_phone||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${s.textSecondary} uppercase block mb-2`,children:"Website"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.website||m.company_website||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${s.textSecondary} uppercase block mb-2`,children:"Company Size"}),e.jsx("p",{className:`${s.text} font-medium`,children:a.companySize||m.company_size||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${s.textSecondary} uppercase block mb-2`,children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r?.isApproved||a?.isApproved?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":r?.isRejected||a?.isRejected?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":a?.isActive?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:r?.isApproved||a?.isApproved?"Approved":r?.isRejected||a?.isRejected?"Rejected":a?.isActive?"Active":"Pending"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${s.textSecondary} uppercase block mb-2`,children:"Email Verified"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a?.emailVerified?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:a?.emailVerified?"Verified":"Not Verified"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${s.textSecondary} uppercase block mb-2`,children:"Onboarded"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a?.isOnboarded?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:a?.isOnboarded?"Completed":"Pending"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${s.textSecondary} uppercase block mb-2`,children:"Created At"}),e.jsx("p",{className:`${s.text} font-medium`,children:a?.createdAt?new Date(a.createdAt).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${s.textSecondary} uppercase block mb-2`,children:"Last Login"}),e.jsx("p",{className:`${s.text} font-medium`,children:a?.lastLoginAt?new Date(a.lastLoginAt).toLocaleDateString():"N/A"})]})]}),(a?.address||m?.company_address)&&e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${s.textSecondary} uppercase block mb-2`,children:"Company Address"}),e.jsx("p",{className:`${s.text} leading-relaxed`,children:a?.address||m?.company_address})]})]})},Vs=({client:r,currentTheme:s,onViewAgent:a})=>{const[m,I]=u.useState([]),[f,M]=u.useState(!0),[O,d]=u.useState(null);return u.useEffect(()=>{(async()=>{if(!r){M(!1);return}try{M(!0),d(null),console.log("ðŸ”„ AIEmployeesTab mounted - fetching agents for client:",r?.id),console.log("ðŸ“‹ Client user ID:",r?.userData?.id),console.log("ðŸ“‹ Full client object:",r);const w=await Y.getAgentsById(r?.id);console.log("ðŸ¤– AI Agents API Response:",w);let _=w?.data||w;console.log("ðŸ“¦ Raw agents data:",_),_?.agents&&Array.isArray(_.agents)&&(_=_.agents),Array.isArray(_)?(console.log("âœ… Agents data is an array with length:",_.length),_.length>0&&console.log("ðŸ“Š Sample agent data:",_[0]),I(_)):_&&typeof _=="object"?(console.log("ðŸ“¦ Single agent object, wrapping in array"),I([_])):(console.log("ðŸ“Š Response data is not an array or object:",typeof _),I([]))}catch(w){console.error("âŒ Error fetching AI employees:",w),console.error("âŒ Error details:",w?.response?.data),I([])}finally{M(!1)}})()},[r]),f?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h3",{className:`text-lg font-semibold ${s.text}`,children:"AI Employees"})}),e.jsxs("div",{className:`text-center py-12 rounded-lg ${s.searchBg}`,children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:`${s.textSecondary}`,children:"Loading AI Employees..."})]})]}):O?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h3",{className:`text-lg font-semibold ${s.text}`,children:"AI Employees"})}),e.jsxs("div",{className:`text-center py-12 rounded-lg ${s.searchBg}`,children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 text-red-500",children:e.jsx(Bs,{className:"w-full h-full"})}),e.jsx("h4",{className:`text-lg font-semibold ${s.text} mb-2`,children:"Error Loading Data"}),e.jsx("p",{className:`${s.textSecondary} mb-4`,children:O}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Retry"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h3",{className:`text-lg font-semibold ${s.text}`,children:["AI Employees (",m.length,")"]})}),m.length===0?e.jsxs("div",{className:`text-center py-12 rounded-lg ${s.searchBg}`,children:[e.jsx(Z,{className:`w-12 h-12 mx-auto mb-3 ${s.textSecondary}`}),e.jsx("h4",{className:`text-lg font-semibold ${s.text} mb-2`,children:"No AI Employees"}),e.jsx("p",{className:`${s.textSecondary}`,children:"This client hasn't created any AI employees yet."})]}):e.jsx("div",{className:"space-y-4",children:m.map(($,w)=>e.jsxs("div",{className:`${s.searchBg} rounded-lg p-4 border ${s.border}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${s.cardBg} border ${s.border} flex items-center justify-center`,children:e.jsx(Z,{className:`w-5 h-5 ${s.text}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold ${s.text}`,children:$.name||"Unnamed Employee"}),e.jsx("p",{className:`text-sm ${s.textSecondary}`,children:$.type||"Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$.is_active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:$.is_active?"Active":"Inactive"}),e.jsxs("button",{onClick:()=>a&&a($),className:`px-3 py-1 ${s.searchBg} hover:${s.hover} ${s.text} border ${s.border} text-sm font-medium rounded-lg transition-all duration-200 flex items-center gap-1`,title:"View Agent Details",children:[e.jsx(ke,{className:"w-3 h-3"}),"View"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Agent ID"}),e.jsx("p",{className:`${s.text} text-sm font-mono`,children:$.id||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Language"}),e.jsx("p",{className:`${s.text} text-sm`,children:$.greeting?.language||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Voice"}),e.jsx("p",{className:`${s.text} text-sm`,children:$.voice||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Created"}),e.jsx("p",{className:`${s.text} text-sm`,children:$.created_at?new Date($.created_at).toLocaleDateString():"N/A"})]})]})]},$._id||w))})]})},Gs=({agent:r,onBack:s,currentTheme:a})=>{if(!r)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500",children:"No agent data available"}),e.jsx("button",{onClick:s,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Back to List"})]});const[m,I]=u.useState("overview"),[f,M]=u.useState(!1),[O,d]=u.useState(!1),[$,w]=u.useState([]),[_,ie]=u.useState(""),[x,A]=u.useState(""),[U,oe]=u.useState(!1),[z,V]=u.useState(""),[ue,Se]=u.useState("en"),[ge,se]=u.useState({noiseSuppression:!0,echoCancellation:!0,autoGainControl:!0}),[be,ae]=u.useState(null),[Ce,de]=u.useState([]),[o,te]=u.useState(!1),[F,X]=u.useState(null),[G,T]=u.useState([]),[L,ce]=u.useState(!1),me=u.useMemo(()=>[{id:"overview",label:"Overview",icon:ze},{id:"test",label:"Preview & Test",icon:qe},{id:"analytics",label:"Analytics",icon:Ds},{id:"instructions",label:"Instructions",icon:re}],[]);u.useEffect(()=>{(async()=>{if(m==="analytics")try{te(!0);const h=r?.id||r?._id;if(!h){console.error("No agent ID found");return}console.log("ðŸ“‹ Fetching sessions for agent:",h);const j=await Y.getAgentSessions(h);console.log("âœ… Sessions response:",j);const N=j?.sessions||j?.data?.sessions||j,v=Array.isArray(N)?N:[];de(v)}catch(h){console.error("âŒ Error fetching agent sessions:",h),S.error("Failed to load sessions"),de([])}finally{te(!1)}})()},[m,r]);const pe=u.useCallback(async i=>{try{if(X(i),i?.transcripts&&Array.isArray(i.transcripts)){console.log("ðŸ“œ Using transcripts from session object:",i.transcripts),T(i.transcripts);return}ce(!0);const h=i?.session_id||i?.id||i?._id;console.log("ðŸ“œ Fetching transcripts for session:",h);const j=await Y.getSessionTranscripts(h);console.log("âœ… Transcripts response:",j);const N=j?.transcripts||j?.data||j,v=Array.isArray(N)?N:[];T(v)}catch(h){console.error("âŒ Error fetching transcripts:",h),S.error("Failed to load transcripts"),T([])}finally{ce(!1)}},[]),Ae=u.useCallback(()=>{X(null),T([])},[]),le=u.useCallback(async()=>{try{if(d(!0),V("ðŸŽ¤ Requesting microphone access..."),!window.isSecureContext)throw new Error("HTTPS required for microphone access");try{(await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1,channelCount:1,sampleRate:48e3,sampleSize:16,volume:.6,latency:.05}})).getTracks().forEach(W=>W.stop()),V("âœ… Microphone access granted")}catch(v){throw new Error(`Microphone access denied: ${v.message}`)}const i=r?.id||r?._id;if(!i)throw new Error("Agent ID not found");V("ðŸ”— Getting LiveKit token...");const h=`admin_test_${Date.now()}`,j=await fetch("https://python.service.callshivai.com/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agent_id:i,language:ue,call_id:h,device:"desktop",user_agent:navigator.userAgent})});if(!j.ok)throw new Error(`Failed to get LiveKit token: ${j.status}`);const N=await j.json();if(console.log("ðŸŽ¯ Token received for agent testing:",i,N),V("ðŸ”— Connecting to LiveKit..."),typeof window.LivekitClient>"u"){V("ðŸ“¦ Loading LiveKit SDK...");const v=document.createElement("script");v.src="https://unpkg.com/livekit-client@latest/dist/livekit-client.umd.js",v.onload=()=>{console.log("âœ… LiveKit SDK loaded"),he(N,i)},v.onerror=()=>{throw new Error("Failed to load LiveKit SDK")},document.head.appendChild(v)}else await he(N,i)}catch(i){console.error("Failed to start agent test call:",i),V(`âŒ Error: ${i.message}`),d(!1),M(!1)}},[r]),he=u.useCallback(async(i,h)=>{try{const j=window.LivekitClient,N=new j.Room({adaptiveStream:!0,dynacast:!0,audioCaptureDefaults:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,suppressLocalAudioPlayback:!0},publishDefaults:{audioPreset:j.AudioPresets.speech,dtx:!0,red:!1,simulcast:!1}});N.on(j.RoomEvent.TrackSubscribed,(v,W,q)=>{if(v.kind===j.Track.Kind.Audio){const H=v.attach();H.volume=.4,H.autoplay=!0,document.body.appendChild(H),H.play().catch(xe=>console.warn("Audio autoplay blocked:",xe))}}),N.on(j.RoomEvent.ParticipantMetadataChanged,(v,W)=>{if(v)try{const q=JSON.parse(v);(q.transcript||q.text)&&w(H=>[...H,{role:"agent",text:q.transcript||q.text,timestamp:new Date}])}catch{console.log("Metadata not JSON:",v)}}),N.on(j.RoomEvent.RoomMetadataChanged,v=>{if(v)try{const W=JSON.parse(v);(W.transcript||W.text)&&w(q=>[...q,{role:"agent",text:W.transcript||W.text,timestamp:new Date}])}catch{console.log("Room metadata not JSON:",v)}}),N.on(j.RoomEvent.Connected,async()=>{console.log("âœ… Connected to LiveKit room for agent testing"),M(!0),d(!1),V("ðŸŸ¢ Connected! You can now speak with the agent.");try{await N.localParticipant.setMicrophoneEnabled(!0,{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),w([{role:"agent",text:r?.greeting?.en||`Hello! I'm ${r?.name||"Agent"}, ready for testing. How can I help you?`,timestamp:new Date}])}catch(v){console.error("Failed to enable microphone:",v)}}),N.on(j.RoomEvent.Disconnected,()=>{console.log("âŒ Disconnected from LiveKit room"),M(!1),V("ðŸ”´ Disconnected"),ae(null)}),await N.connect(i.url,i.token),ae(N)}catch(j){console.error("LiveKit connection failed:",j),V(`âŒ Connection failed: ${j.message}`),d(!1),M(!1)}},[r]),K=u.useCallback(async()=>{if(be)try{await be.disconnect(),console.log("âœ… Disconnected from LiveKit room")}catch(i){console.error("Error disconnecting from room:",i)}M(!1),d(!1),V("ðŸ“ž Call ended"),ae(null),w(i=>[...i,{role:"system",text:"Call ended",timestamp:new Date}])},[be]),ye=u.useCallback(()=>{if(!_.trim()||!f)return;const i={role:"user",text:_.trim(),timestamp:new Date};w(h=>[...h,i]),ie(""),setTimeout(()=>{const h=[`I received your message: "${i.text}". How can I help you with this?`,`Thank you for your message. As ${r?.name||"Agent"}, I'm here to assist you.`,`I understand you said: "${i.text}". Let me help you with that.`,`Got it! ${i.text}. What would you like to know more about?`],j={role:"agent",text:h[Math.floor(Math.random()*h.length)],timestamp:Date.now()};w(N=>[...N,j])},1e3+Math.random()*2e3)},[_,f,r]),je=u.useCallback(()=>{if(!x.trim())return;oe(!0);const i={role:"user",text:x.trim(),timestamp:new Date};w(h=>[...h,i]),A(""),setTimeout(()=>{const h=[`Thank you for testing! You said: "${i.text}". I'm ${r?.name||"Agent"} and I'm working correctly.`,`Test successful! As ${r?.name||"Agent"}, I received your message: "${i.text}". How can I assist you further?`,`Hello! This is ${r?.name||"Agent"}. I got your test message: "${i.text}". The agent is responding as expected.`,`Agent test complete! Your message: "${i.text}" was processed successfully by ${r?.name||"Agent"}.`],j={role:"agent",text:h[Math.floor(Math.random()*h.length)],timestamp:new Date};w(N=>[...N,j]),oe(!1)},1500+Math.random()*1e3)},[x,r]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:s,className:`p-2 rounded-lg ${a.hover} ${a.text} transition-all duration-200`,children:e.jsx(Me,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:`text-2xl font-bold ${a.text}`,children:r?.name||"Unnamed Agent"}),e.jsxs("p",{className:`text-sm ${a.textSecondary}`,children:["Agent ID: ",r?.id||r?._id||"N/A"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${r?.is_active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:r?.is_active?"Active":"Inactive"})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"flex space-x-8",children:me.map(i=>{const h=i.icon;return e.jsxs("button",{onClick:()=>I(i.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${m===i.id?"border-blue-500 text-blue-600 dark:text-blue-400":`border-transparent ${a.textSecondary} hover:text-gray-700 dark:hover:text-gray-300`}`,children:[e.jsx(h,{className:"w-4 h-4"}),i.label]},i.id)})})})]}),m==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:`${a.cardBg} rounded-lg p-4 border ${a.border}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e.jsx(Z,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${a.textSecondary}`,children:"Agent Type"}),e.jsx("p",{className:`font-semibold ${a.text}`,children:"AI Assistant"})]})]})}),e.jsx("div",{className:`${a.cardBg} rounded-lg p-4 border ${a.border}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:e.jsx(Ls,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${a.textSecondary}`,children:"Voice"}),e.jsx("p",{className:`font-semibold ${a.text}`,children:r?.voice||"Default"})]})]})}),e.jsx("div",{className:`${a.cardBg} rounded-lg p-4 border ${a.border}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:e.jsx(Xe,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${a.textSecondary}`,children:"Language"}),e.jsx("p",{className:`font-semibold ${a.text}`,children:r?.greeting?.language||"English"})]})]})})]}),e.jsxs("div",{className:`${a.cardBg} rounded-lg p-6 border ${a.border}`,children:[e.jsx("h3",{className:`text-lg font-semibold ${a.text} mb-4`,children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Agent Name"}),e.jsx("p",{className:`${a.text}`,children:r.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Created By"}),e.jsx("p",{className:`${a.text}`,children:r.created_by||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Created Date"}),e.jsx("p",{className:`${a.text}`,children:r.created_at?new Date(r.created_at).toLocaleString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Knowledge Base URL"}),e.jsx("p",{className:`${a.text} break-all`,children:r.knowledge_base_url||"N/A"})]})]})]})]}),m==="test"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${a.cardBg} rounded-lg p-6 border ${a.border}`,children:[e.jsxs("h3",{className:`text-lg font-semibold ${a.text} mb-4 flex items-center gap-2`,children:[e.jsx(ze,{className:"w-5 h-5"}),"Agent Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Agent Name"}),e.jsx("p",{className:`${a.text} font-semibold`,children:r?.name||"Unnamed Agent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Agent ID"}),e.jsx("p",{className:`${a.text} font-mono text-sm bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded`,children:r?.id||r?._id||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.is_active?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:r.is_active?"ðŸŸ¢ Active":"ðŸ”´ Inactive"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Model"}),e.jsx("p",{className:`${a.text}`,children:r.model||"gpt-4o-realtime-preview"})]})]})]}),e.jsxs("div",{className:`${a.cardBg} rounded-lg p-6 border ${a.border}`,children:[e.jsx("h3",{className:`text-lg font-semibold ${a.text} mb-4 flex items-center gap-2`,children:"ðŸŽ™ï¸ Live Voice Testing"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Language"}),e.jsxs("select",{value:ue,onChange:i=>Se(i.target.value),className:`w-full px-3 py-2 rounded-lg border ${a.border} ${a.cardBg} ${a.text} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,disabled:f,children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"hi",children:"Hindi"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"fr",children:"French"}),e.jsx("option",{value:"de",children:"German"}),e.jsx("option",{value:"pt",children:"Portuguese"}),e.jsx("option",{value:"zh",children:"Chinese"}),e.jsx("option",{value:"ja",children:"Japanese"}),e.jsx("option",{value:"ko",children:"Korean"}),e.jsx("option",{value:"ar",children:"Arabic"}),e.jsx("option",{value:"ru",children:"Russian"}),e.jsx("option",{value:"it",children:"Italian"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Audio Settings"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("label",{className:"flex items-center text-xs",children:[e.jsx("input",{type:"checkbox",checked:ge.noiseSuppression,onChange:i=>se(h=>({...h,noiseSuppression:i.target.checked})),className:"mr-1",disabled:f}),"ðŸŽ§ Noise Cancellation"]}),e.jsxs("label",{className:"flex items-center text-xs",children:[e.jsx("input",{type:"checkbox",checked:ge.echoCancellation,onChange:i=>se(h=>({...h,echoCancellation:i.target.checked})),className:"mr-1",disabled:f}),"ðŸ”Š Echo Cancellation"]}),e.jsxs("label",{className:"flex items-center text-xs",children:[e.jsx("input",{type:"checkbox",checked:ge.autoGainControl,onChange:i=>se(h=>({...h,autoGainControl:i.target.checked})),className:"mr-1",disabled:f}),"ðŸ“Š Auto Gain"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsx("button",{onClick:le,disabled:O||f,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${O||f?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:O?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Connecting..."]}):f?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),"Connected"]}):e.jsx("span",{className:"flex items-center gap-2",children:"ðŸŽ¤ Start Voice Call"})}),f&&e.jsx("button",{onClick:K,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-all duration-200",children:"ðŸ“ž End Call"})]}),z&&e.jsx("div",{className:`p-3 rounded-lg mb-4 text-sm ${z.includes("Error")||z.includes("Failed")?"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-300":z.includes("Connected")||z.includes("ðŸŸ¢")?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-300":"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"}`,children:z}),f&&e.jsxs("div",{className:`border ${a.border} rounded-lg overflow-hidden`,children:[e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("span",{className:"text-sm font-medium",children:["ðŸ’¬ Live Conversation with ",r.name]})}),e.jsx("div",{className:"h-64 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900/50",style:{scrollBehavior:"smooth"},children:$.length===0?e.jsx("div",{className:"text-center text-gray-500 text-sm py-8",children:"ðŸŽ™ï¸ Start speaking or type a message to begin testing..."}):$.map((i,h)=>e.jsx("div",{className:`mb-3 flex ${i.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] p-3 rounded-lg ${i.role==="user"?"bg-blue-500 text-white rounded-br-sm":i.role==="agent"?"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-bl-sm border":"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-300 text-center rounded"}`,children:[e.jsx("div",{className:"text-xs opacity-70 mb-1",children:i.role==="user"?"ðŸ‘¤ You":i.role==="agent"?"ðŸ¤– "+r.name:"System"}),e.jsx("div",{className:"text-sm",children:i.text}),e.jsx("div",{className:"text-xs opacity-50 mt-1",children:new Date(i.timestamp).toLocaleTimeString()})]})},h))}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:_,onChange:i=>ie(i.target.value),onKeyDown:i=>i.key==="Enter"&&ye(),placeholder:"Type a message to test text input...",className:`flex-1 px-3 py-2 text-sm rounded-lg border ${a.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20`,disabled:!f}),e.jsx("button",{onClick:ye,disabled:!f||!_.trim(),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:e.jsx(He,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"ðŸ’¡ You can type messages here or speak directly for voice testing"})]})]}),f&&e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((i,h)=>e.jsx("div",{className:"w-1 bg-blue-500 rounded-full animate-pulse",style:{height:`${Math.random()*20+10}px`,animationDelay:`${h*.1}s`,animationDuration:"1s"}},h))})})]})]}),m==="analytics"&&e.jsxs("div",{className:"space-y-6",children:[F&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${a.cardBg} rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] flex flex-col border ${a.border}`,children:[e.jsxs("div",{className:`p-4 border-b ${a.border}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("h3",{className:`text-base font-semibold ${a.text}`,children:"Session Transcript"})}),e.jsxs("p",{className:`text-xs ${a.textSecondary}`,children:["ID: ",F?.session_id||F?.id]}),e.jsxs("p",{className:`text-xs ${a.textSecondary}`,children:[F?.location?.city||"unknown"," (",F?.location?.country||"Unknown",")"]})]}),e.jsx("button",{onClick:Ae,className:`p-1.5 ${a.textSecondary} hover:${a.text} rounded-full ${a.hover} transition-all`,children:e.jsx(ee,{className:"w-5 h-5"})})]}),e.jsx("div",{className:`mt-3 pt-3 border-t ${a.border}`,children:e.jsxs("p",{className:`text-xs ${a.textSecondary} text-center`,children:["Conversation started at ",new Date(F?.start_time).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),", ",new Date(F?.start_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})]})})]}),e.jsx("div",{className:`overflow-y-auto p-4 ${a.background}`,style:{height:"450px"},children:L?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:`ml-3 ${a.textSecondary}`,children:"Loading transcripts..."})]}):G.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Es,{className:`w-12 h-12 mx-auto mb-3 ${a.textSecondary}`}),e.jsx("p",{className:`${a.textSecondary}`,children:"No transcripts available for this session."})]}):e.jsx("div",{className:"space-y-3",children:G.map((i,h)=>{const j=i.role==="agent",N=new Date(i.timestamp);return e.jsx("div",{children:j?e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-500 flex items-center justify-center",children:e.jsx(Z,{className:"w-4 h-4 text-white"})})}),e.jsxs("div",{className:"flex flex-col items-start max-w-[80%]",children:[e.jsxs("span",{className:`text-[10px] ${a.textSecondary} mb-1 px-2 font-medium`,children:["SHIVAI ASSISTANT ",N.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})]}),e.jsx("div",{className:`rounded-2xl rounded-tl-sm px-4 py-2.5 ${a.searchBg}`,children:e.jsx("p",{className:`text-sm ${a.text}`,children:i.text})})]})]}):e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"flex flex-col items-end max-w-[80%]",children:[e.jsxs("span",{className:`text-[10px] ${a.textSecondary} mb-1 px-2 font-medium`,children:["CUSTOMER ",N.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})]}),e.jsx("div",{className:"rounded-2xl rounded-tr-sm px-4 py-2.5 bg-blue-600",children:e.jsx("p",{className:"text-sm text-white",children:i.text})})]})})},h)})})}),e.jsxs("div",{className:`p-4 border-t ${a.border}`,children:[e.jsx("p",{className:`text-xs ${a.textSecondary} text-center mb-1`,children:"Session ended â€¢ Resolution: Session completed"}),e.jsxs("p",{className:`text-xs ${a.textSecondary} text-center flex items-center justify-center gap-1`,children:[e.jsx(Ie,{className:"w-3 h-3"}),"Updated: ",new Date(F?.updated_at||F?.end_time).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),", ",new Date(F?.updated_at||F?.end_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})]})]})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${a.text}`,children:"Session History"}),o&&e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})]}),o?e.jsxs("div",{className:`text-center py-12 rounded-lg ${a.searchBg}`,children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:`${a.textSecondary}`,children:"Loading sessions..."})]}):Ce.length===0?e.jsxs("div",{className:`text-center py-12 rounded-lg ${a.searchBg}`,children:[e.jsx(Ye,{className:`w-12 h-12 mx-auto mb-3 ${a.textSecondary}`}),e.jsx("h4",{className:`text-lg font-semibold ${a.text} mb-2`,children:"No Sessions Yet"}),e.jsx("p",{className:`${a.textSecondary}`,children:"This agent hasn't had any sessions yet."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Ce.map((i,h)=>{const j=i?.session_id||i?.id||`#${String(1e3+h).padStart(4,"0")}`,N=i?.status||"Completed",v=i?.duration_seconds||0,W=v>0?`${Math.floor(v/60)}m ${Math.floor(v%60)}s`:"0s",q=i?.total_messages||0,H=i?.start_time||new Date,xe=i?.location||{},J=i?.token_usage||{};return e.jsxs("div",{className:`${a.cardBg} border ${a.border} rounded-lg p-4 hover:shadow-lg transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx(Ye,{className:`w-4 h-4 ${a.textSecondary} flex-shrink-0`}),e.jsx("h4",{className:`font-semibold ${a.text} text-sm truncate`,children:j})]}),e.jsx("button",{onClick:()=>pe(i),className:`p-1.5 ${a.textSecondary} rounded-lg ${a.activeBg} ${a.hover} transition-all duration-200 hover:shadow-lg flex-shrink-0`,title:"View Session",children:L&&F?.id===i?.id?e.jsx("div",{className:"w-3 h-3 border border-gray-600 border-t-transparent rounded-full animate-spin"}):e.jsx(ke,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${N==="Completed"?"bg-green-500/10 text-green-600 border border-green-500/20":N==="In Progress"?"bg-blue-500/10 text-blue-600 border border-blue-500/20":"bg-gray-500/10 text-gray-600 border border-gray-500/20"}`,children:N})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:`text-xs font-medium ${a.textSecondary} mb-1`,children:"Date & Time"}),e.jsx("p",{className:`${a.text} text-sm font-medium`,children:new Date(H).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsx("p",{className:`text-xs ${a.textSecondary}`,children:new Date(H).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:`text-xs font-medium ${a.textSecondary} mb-1`,children:"Location"}),e.jsx("p",{className:`${a.text} text-sm font-medium truncate`,children:[xe?.city,xe?.country].filter(fe=>fe&&fe!=="unknown").join(", ")||"Unknown"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${a.textSecondary}`,children:"Device"}),e.jsx("p",{className:`${a.text} text-sm font-medium truncate`,children:i?.device?.device_type&&i.device.device_type!=="unknown"?i.device.device_type:"Unknown"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${a.textSecondary}`,children:"Duration"}),e.jsx("p",{className:`${a.text} text-sm font-medium`,children:W})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${a.textSecondary}`,children:"Messages"}),e.jsx("p",{className:`${a.text} text-sm font-medium`,children:q})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${a.textSecondary}`,children:"Language"}),e.jsx("p",{className:`${a.text} text-sm font-medium uppercase`,children:i?.language||"EN"})]})]}),e.jsxs("div",{className:`pt-2 border-t ${a.border}`,children:[e.jsx("p",{className:`text-xs ${a.textSecondary} mb-1`,children:"Token Usage"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${a.textSecondary}`,children:"In"}),e.jsx("p",{className:`${a.text} text-sm font-semibold`,children:J?.input_tokens?.toLocaleString()||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${a.textSecondary}`,children:"Out"}),e.jsx("p",{className:`${a.text} text-sm font-semibold`,children:J?.output_tokens?.toLocaleString()||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${a.textSecondary}`,children:"Total"}),e.jsx("p",{className:`${a.text} text-sm font-semibold`,children:J?.total_tokens?.toLocaleString()||0})]})]})]})]},i?.id||h)})})]})]}),m==="instructions"&&e.jsxs("div",{className:"space-y-6",children:[r.greeting&&e.jsxs("div",{className:`${a.cardBg} rounded-lg p-6 border ${a.border}`,children:[e.jsx("h3",{className:`text-lg font-semibold ${a.text} mb-4`,children:"Greeting Messages"}),e.jsx("div",{className:"space-y-4",children:Object.entries(r.greeting).map(([i,h])=>e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2 uppercase`,children:i}),e.jsx("div",{className:`p-3 rounded-lg ${a.searchBg} ${a.text}`,children:h})]},i))})]}),r.custom_instructions&&e.jsxs("div",{className:`${a.cardBg} rounded-lg p-6 border ${a.border}`,children:[e.jsx("h3",{className:`text-lg font-semibold ${a.text} mb-4`,children:"Custom Instructions"}),e.jsx("div",{className:`p-4 rounded-lg ${a.searchBg} ${a.text} whitespace-pre-wrap`,children:r.custom_instructions})]})]}),m==="preview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`${a.cardBg} rounded-lg p-6 border ${a.border}`,children:[e.jsx("h3",{className:`text-lg font-semibold ${a.text} mb-4`,children:"Agent Configuration Preview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-md font-semibold ${a.text} mb-3`,children:"Basic Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-1`,children:"Model"}),e.jsx("p",{className:`${a.text} font-mono text-sm`,children:r.model||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-1`,children:"Voice"}),e.jsx("p",{className:`${a.text}`,children:r.voice||"Default"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-1`,children:"Temperature"}),e.jsx("p",{className:`${a.text}`,children:r.temperature||"0.7"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-md font-semibold ${a.text} mb-3`,children:"Voice Detection"}),r.turn_detection&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-1`,children:"Type"}),e.jsx("p",{className:`${a.text}`,children:r.turn_detection.type})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-1`,children:"Threshold"}),e.jsx("p",{className:`${a.text}`,children:r.turn_detection.threshold})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-1`,children:"Silence Duration"}),e.jsxs("p",{className:`${a.text}`,children:[r.turn_detection.silence_duration_ms,"ms"]})]})]})]})]})]}),r.greeting&&e.jsxs("div",{className:`${a.cardBg} rounded-lg p-6 border ${a.border}`,children:[e.jsx("h3",{className:`text-lg font-semibold ${a.text} mb-4`,children:"Greeting Messages"}),e.jsx("div",{className:"space-y-4",children:Object.entries(r.greeting).map(([i,h])=>e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2 uppercase`,children:i}),e.jsx("div",{className:`p-3 rounded-lg ${a.searchBg} ${a.text}`,children:h})]},i))})]}),e.jsxs("div",{className:`${a.cardBg} rounded-lg p-6 border ${a.border}`,children:[e.jsx("h3",{className:`text-lg font-semibold ${a.text} mb-4`,children:"Test Agent Interface"}),e.jsx("div",{className:"space-y-4 mb-6",children:e.jsx("div",{className:`h-96 overflow-y-auto p-4 rounded-lg ${a.searchBg} border ${a.border}`,children:$.length===0?e.jsxs("div",{className:`text-center py-8 ${a.textSecondary}`,children:[e.jsx(qe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Start a conversation to test the agent"})]}):e.jsxs("div",{className:"space-y-4",children:[$.map((i,h)=>e.jsx("div",{className:`flex ${(i.type||i.role)==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${(i.type||i.role)==="user"?"bg-blue-500 text-white":`${a.cardBg} ${a.text} border ${a.border}`}`,children:[e.jsx("p",{className:"text-sm",children:i.content||i.text}),e.jsx("p",{className:"text-xs mt-1 opacity-70",children:i.timestamp instanceof Date?i.timestamp.toLocaleTimeString():new Date(i.timestamp).toLocaleTimeString()})]})},h)),U&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${a.cardBg} ${a.text} border ${a.border}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),e.jsx("p",{className:"text-sm",children:"Agent is thinking..."})]})})})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:x,onChange:i=>A(i.target.value),onKeyPress:i=>i.key==="Enter"&&je(),placeholder:"Type your message to test the agent...",disabled:U,className:`flex-1 px-4 py-3 rounded-lg border ${a.border} ${a.cardBg} ${a.text} focus:outline-none focus:ring-2 focus:ring-blue-500/20 disabled:opacity-50`}),e.jsx("button",{onClick:je,disabled:U||!x.trim(),className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white rounded-lg transition-colors flex items-center gap-2 font-medium",children:U?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"w-4 h-4"}),"Send"]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>w([]),className:`px-4 py-2 rounded-lg ${a.hover} ${a.text} text-sm font-medium transition-colors duration-200 flex items-center gap-2`,children:[e.jsx(Fe,{className:"w-4 h-4"}),"Clear Chat"]}),e.jsxs("button",{onClick:()=>{const i={type:"user",content:"Hello! Can you tell me about your capabilities?",timestamp:new Date};w(h=>[...h,i]),oe(!0),setTimeout(()=>{const h={type:"agent",content:`Hi! I'm ${r.name}. I can help you with various tasks using voice interactions. Feel free to ask me anything!`,timestamp:new Date};w(j=>[...j,h]),oe(!1)},1500)},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm font-medium transition-colors duration-200 flex items-center gap-2",children:[e.jsx(Rs,{className:"w-4 h-4"}),"Demo Chat"]})]})]})]}),m==="instructions"&&e.jsxs("div",{className:"space-y-6",children:[r.custom_instructions&&e.jsxs("div",{className:`${a.cardBg} rounded-lg p-6 border ${a.border}`,children:[e.jsx("h3",{className:`text-lg font-semibold ${a.text} mb-4`,children:"Custom Instructions"}),e.jsx("div",{className:`p-4 rounded-lg ${a.searchBg} ${a.text} whitespace-pre-wrap`,children:r.custom_instructions})]}),e.jsxs("div",{className:`${a.cardBg} rounded-lg p-6 border ${a.border}`,children:[e.jsx("h3",{className:`text-lg font-semibold ${a.text} mb-4`,children:"System Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Agent ID"}),e.jsx("div",{className:`p-3 rounded-lg ${a.searchBg} ${a.text} font-mono text-sm`,children:r?.id||r?._id||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm ${a.textSecondary} block mb-2`,children:"Model Configuration"}),e.jsxs("div",{className:`p-3 rounded-lg ${a.searchBg} ${a.text}`,children:["Model: ",r.model||"N/A",e.jsx("br",{}),"Temperature: ",r.temperature||"0.7",e.jsx("br",{}),"Max Tokens: ",r.max_tokens||"Not specified"]})]})]})]})]})]})},Ws=({client:r,currentTheme:s})=>{const a=[{id:1,date:"2024-12-01",amount:149,type:"subscription",status:"completed",description:"Monthly subscription"},{id:2,date:"2024-11-01",amount:149,type:"subscription",status:"completed",description:"Monthly subscription"},{id:3,date:"2024-10-15",amount:50,type:"usage",status:"completed",description:"Additional tokens"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h3",{className:`text-lg font-semibold ${s.text}`,children:"Transaction History"})}),a.length===0?e.jsxs("div",{className:`text-center py-12 rounded-lg ${s.searchBg}`,children:[e.jsx(ss,{className:`w-12 h-12 mx-auto mb-3 ${s.textSecondary}`}),e.jsx("h4",{className:`text-lg font-semibold ${s.text} mb-2`,children:"No Transactions"}),e.jsx("p",{className:`${s.textSecondary}`,children:"No transaction history available for this client."})]}):e.jsx("div",{className:"space-y-3",children:a.map(m=>e.jsx("div",{className:`${s.searchBg} rounded-lg p-4 border ${s.border}`,children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:e.jsx(Pe,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:`font-semibold ${s.text}`,children:["$",m.amount.toFixed(2)]}),e.jsx("p",{className:`text-sm ${s.textSecondary}`,children:m.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:m.status}),e.jsx("p",{className:`text-sm ${s.textSecondary} mt-1`,children:m.date})]})]})},m.id))})]})},Js=()=>{const{theme:r,currentTheme:s}=Qe(),a=Is(),[m,I]=u.useState(""),[f,M]=u.useState(""),[O,d]=u.useState("all"),[$,w]=u.useState(null),[_,ie]=u.useState("list"),[x,A]=u.useState(null),[U,oe]=u.useState(null),[z,V]=u.useState([]),[ue,Se]=u.useState({all:0,newlySignup:0,pending:0,onboarded:0,approved:0,rejected:0}),[ge,se]=u.useState(!0),[be,ae]=u.useState(!1),[Ce,de]=u.useState(null),[o,te]=u.useState(!1),[F,X]=u.useState(!1),[G,T]=u.useState(""),[L,ce]=u.useState(1),[me]=u.useState(10),[pe,Ae]=u.useState(0),[le,he]=u.useState(0),[K,ye]=u.useState(null),je=u.useRef(new Set),i=u.useRef(!1);u.useEffect(()=>{const t=n=>{n.target.closest("[data-industry-dropdown]")||(console.log("Clicking outside industry dropdown"),X(!1))};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),u.useEffect(()=>{const t=setTimeout(()=>{m!==f&&(M(m),ce(1))},500);return()=>clearTimeout(t)},[m,f]),u.useEffect(()=>{ce(1)},[O]);const h=t=>{const n={page:L,limit:me};switch(t){case"all":return n;case"newlySignup":return{...n,isVerified:!1};case"pending":return{...n,isVerified:!0,isOnboarded:!1};case"onboarded":return{...n,isVerified:!0,isOnboarded:!0};case"approved":return{...n,onbardingStatus:"Approved"};case"rejected":return{...n,onbardingStatus:"Rejected"};default:return n}},j=async(t=O,n=L)=>{if(i.current){console.log("â­ï¸ Skipping fetch - already in progress");return}try{i.current=!0,se(!0),de(null),je.current.add(t);const l=h(t);console.log(`ðŸ“¡ Fetching data for tab: ${t} with params:`,l);const g=await Y.get("/v1/users",l);console.log(`âœ… Raw response for ${t}:`,g),console.log("âœ… Response data:",g.data);const p=g.data||g,b=p?.data?.users||p?.users||p||[],y=p?.meta||{},D=p?.data?.meta?.pagination||y?.pagination||{};console.log(`ðŸ“Š Extracted users (${b.length}):`,b.length>0?b.slice(0,2):"No users"),console.log("ðŸ“Š Meta data:",y),console.log("ðŸ“Š Pagination data:",D);const E=b.map(c=>({_id:c?.id||c?._id,onBoardingId:c?.onboarding?._id||null,userData:c,company_basics:{name:c?.onboarding?.company_name||c?.fullName||"Unknown",company_email:c?.onboarding?.company_email||c?.email,company_size:c?.onboarding?.address||c?.address||"Unknown",industry:[c?.onboarding?.region||"Not specified"]},plan_details:{type:c?.userData?.onboarding?.plan_type||c?.onboarding?.plan_type||c?.plan_type||"Selected",ai_employee_limit:c?.onboarding?.ai_employee_count||c?.ai_employee_count||1,monthly_price:(()=>{const k=c?.userData?.onboarding?.plan_type||c?.onboarding?.plan_type,P=Ne.find(ve=>ve.apiKey===k);return P?.price==="Custom"?0:parseFloat(P?.price?.replace(/[$\/mo,]/g,"")||"0")})()},ai_employees:c?.onboarding?.ai_employees||Array.from({length:c?.onboarding?.ai_employee_count||0},(k,P)=>({id:`ai_${P+1}`,name:`AI Employee ${P+1}`,type:"Assistant",status:"Active"})),isOnBoarded:c?.isOnBoarded||!1,isApproved:c?.isApproved||!1,createdAt:c?.createdAt,lastLoginAt:c?.lastLoginAt,knowledge_sources:{website_url:c?.onboarding?.website_url||"",social_links:{linkedin:c?.onboarding?.linkedin||""},faqs_text:c?.onboarding?.faqs_text||"",uploaded_files:c?.onboarding?.uploaded_files||[]},deployment_targets:{channels:c?.onboarding?.channels||[]},instructions:{dos_and_donts:c?.onboarding?.dos_and_donts||"",fallback_contacts:c?.onboarding?.fallback_contacts||""},targets:{success_goals:c?.onboarding?.success_goals||"",success_metrics:c?.onboarding?.success_metrics||""}}));V(E),ye(D);const R=D.total||y.total,ne=D.totalPages||y.totalPages;R!==void 0&&(Ae(R),he(ne||Math.ceil(R/me)),Se(c=>({...c,[t]:R})),console.log(`âœ… Set count for ${t}:`,R))}catch(l){console.error("âŒ Error fetching data:",l),de(l.message),V([])}finally{se(!1),i.current=!1}};u.useEffect(()=>{j()},[O,L]),u.useMemo(()=>{let t=z;return f&&(t=z.filter(n=>{const l=f.toLowerCase();return n.company_basics?.name?.toLowerCase().includes(l)||n.company_basics?.company_email?.toLowerCase().includes(l)||n.userData?.fullName?.toLowerCase().includes(l)||n.userData?.email?.toLowerCase().includes(l)})),t},[z,f]);const N=u.useMemo(()=>z,[z]),v=t=>ue[t]||0,W=()=>{L>1&&ce(t=>t-1)},q=()=>{L<le&&ce(t=>t+1)},H=async t=>{try{if(console.log("ðŸ” handleEditClient called with client:",t),se(!0),w(t),t?.id){console.log(`ðŸš€ Fetching onboarding data for user: ${t.id}`);const n=await Y.getOnboardingByUserId(t.id);console.log("âœ… Onboarding data response:",n);let l=t;n?.data?l={...t,onboardingDetails:n.data}:l={...t,onboardingDetails:{onboarding:null}};const g={_id:l._id,company_basics:{name:l?.onboardingDetails?.onboarding?.company_basics?.name||l?.company_basics?.name||"",description:l?.onboardingDetails?.onboarding?.company_basics?.description||l?.company_basics?.description||"",company_email:l?.onboardingDetails?.onboarding?.company_basics?.company_email||l?.company_basics?.company_email||"",company_phone:l?.onboardingDetails?.onboarding?.company_basics?.company_phone||l?.company_basics?.company_phone||"",website:l?.onboardingDetails?.onboarding?.company_basics?.website||l?.company_basics?.website||"",address:l?.onboardingDetails?.onboarding?.company_basics?.address||l?.company_basics?.address||"",company_size:l?.onboardingDetails?.onboarding?.company_basics?.company_size||l?.company_basics?.company_size||"",industry:l?.onboardingDetails?.onboarding?.company_basics?.industry||l?.company_basics?.industry||[],linkedin_profile:l?.onboardingDetails?.onboarding?.company_basics?.linkedin_profile||l?.company_basics?.linkedin_profile||"",primary_region:{countries:l?.onboardingDetails?.onboarding?.company_basics?.primary_region?.countries||[],states:l?.onboardingDetails?.onboarding?.company_basics?.primary_region?.states||[],cities:l?.onboardingDetails?.onboarding?.company_basics?.primary_region?.cities||[]}},ai_employees:(l?.onboardingDetails?.onboarding?.ai_employees||l?.ai_employees||[]).map(p=>({...p,knowledge_sources:{faqs_text:p?.knowledge_sources?.faqs_text||"",uploaded_files:p?.knowledge_sources?.uploaded_files||[],website_url:p?.knowledge_sources?.website_url||"",social_links:p?.knowledge_sources?.social_links||{},additional_sources:Array.isArray(p?.knowledge_sources)?p.knowledge_sources:p?.knowledge_sources?.additional_sources||[]}})),plan_details:l?.onboardingDetails?.onboarding?.plan_details||l?.plan_details||{},deployment_targets:l?.onboardingDetails?.onboarding?.deployment_targets||l?.deployment_targets||{},deployment_service:l?.onboardingDetails?.onboarding?.deployment_service||l?.deployment_service||{},consent_options:l?.onboardingDetails?.onboarding?.consent_options||l?.consent_options||{},instructions:l?.onboardingDetails?.onboarding?.instructions||l?.instructions||{},targets:l?.onboardingDetails?.onboarding?.targets||l?.targets||{},userData:l?.userData};A(g),ie("edit"),te(!1)}else console.error("âŒ No client._id available:",t),de("Client ID not found")}catch(n){console.error("âŒ Error fetching onboarding data:",n),de(`Failed to fetch client data: ${n.message}`)}finally{se(!1)}},xe=async t=>{try{const n=t?.id,l=t?.fullName||t?.name||"this client";if(console.log(`ðŸ—‘ï¸ Deleting client: ${l} (ID: ${n})`),!n){S.error("Client ID not found");return}const g=await Y.deleteUser(n);g?.success?(S.success("Client deleted successfully"),await j(O,L)):S.error(g?.message||"Failed to delete client")}catch(n){console.error("âŒ Error deleting client:",n),S.error("Failed to delete client")}},J=()=>{w(null),ie("list"),A(null),te(!1),oe(null)},fe=t=>{oe(t),ie("agentView")},ts=async t=>{try{console.log("ðŸ” handleViewClient called with client:",t),a(`/dashboard/clients/${t?.id||t?._id}`,{state:{client:t}})}catch(n){console.error("âŒ Error navigating to client details:",n),S.error("Failed to navigate to client details")}},ls=async()=>{try{console.log("Saving edited data:",x),S.loading("Saving client data...",{id:"save-toast"});const t=c=>c?c.match(/^https?:\/\//i)?c:`https://${c}`:"",n=c=>c?c.split(" ").map(k=>k.charAt(0).toUpperCase()+k.slice(1).toLowerCase()).join(" "):"",l=c=>{const k=c.toLowerCase();return k.includes("male")&&!k.includes("female")?"Male":k.includes("female")?"Female":"Gender Neutral"},g=[],p={};(x.ai_employees||[]).forEach((c,k)=>{p[k]=[],(c.knowledge_sources?.uploaded_files||[]).forEach(P=>{P.pending_upload&&P.fileObject?g.push(P.fileObject):P.pending_upload||p[k].push(P)})});let b=[];if(g.length>0)try{console.log(`ðŸ“¤ Uploading ${g.length} files...`),b=(await Y.uploadOnboardingFiles(g)).uploaded_files||[],console.log("âœ… Files uploaded:",b)}catch(c){console.error("âŒ Error uploading files:",c),S.error("Failed to upload files. Saving other data...",{id:"save-toast"})}const y=c=>{const P={"Sales & Business Development":"sales_business_development","Customer Support & Service":"customer_support_service","Appointment & Scheduling":"appointment_scheduling","Order Management & Billing":"order_management_billing","Product / Service Explainers":"product_service_explainers","Feedback & Engagement":"feedback_engagement","Custom Workflows":"custom_workflows"}[c];return P||(c||"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"").replace(/&/g,"and")},D=c=>{const k={website:"Website",app:"Mobile App",whatsapp:"WhatsApp"};return(c||[]).map(P=>k[P]||P)},E=c=>({managed:"Shivai","self-service":"Client",shivai:"Shivai",client:"Client"})[c]||c||"Shivai",R={company_basics:{name:x?.company_basics?.name||"",website:t(x?.company_basics?.website||""),company_size:x?.company_basics?.company_size||"",company_email:x?.company_basics?.company_email||"",company_phone:x?.company_basics?.company_phone||"",linkedin_profile:t(x?.company_basics?.linkedin_profile||""),description:x?.company_basics?.description||"",industry:Array.isArray(x?.company_basics?.industry)?x.company_basics.industry:[x?.company_basics?.industry||""],primary_region:{countries:x?.company_basics?.primary_region?.countries||[],states:x?.company_basics?.primary_region?.states||[],cities:x?.company_basics?.primary_region?.cities||[]}},plan_details:x?.plan_details||{},ai_employees:(x.ai_employees||[]).map((c,k)=>{const P=(c.knowledge_sources?.uploaded_files||[]).filter(Q=>!Q.pending_upload),ve=[...p[k]||[]],Ke=(c.knowledge_sources?.uploaded_files||[]).filter(Q=>Q.pending_upload&&Q.fileObject).length;if(Ke>0&&b.length>0){const Q=Object.keys(p).slice(0,k).reduce((ms,ps)=>ms+(x.ai_employees[ps]?.knowledge_sources?.uploaded_files||[]).filter(Ve=>Ve.pending_upload&&Ve.fileObject).length,0);ve.push(...b.slice(Q,Q+Ke))}const xs=(c.workflows||[]).map(Q=>({name:Q.name||"",instruction:Q.instruction||""}));return{name:c.name||`AI Employee ${k+1}`,type:n(c.type||""),template:y(c.template||""),preferred_language:n(c.preferred_language||"English"),voice_gender:l(c.voice_gender||"Gender Neutral"),agent_personality:c.agent_personality||"",voice_style:c.voice_style||"",special_instructions:c.special_instructions||"",workflows:xs,knowledge_sources:{website_url:t(c.knowledge_sources?.website_url||""),social_links:c.knowledge_sources?.social_links||{},faqs_text:c.knowledge_sources?.faqs_text||"",uploaded_files:ve},deployment_targets:{channels:D(c?.deployment_targets?.channels||[]),deployment_notes:c.deployment_targets?.deployment_notes||""},deployment_service:{service_type:E(c.deployment_service?.service_type||"")},consent_options:{recording_enabled:c.consent_options?.recording_enabled||!1,transcript_email_optin:c.consent_options?.transcript_email_optin||!1,privacy_notes:c.consent_options?.privacy_notes||""},instructions:{dos_and_donts:c.instructions?.dos_donts||c.instructions?.dos_and_donts||"",fallback_contacts:c.instructions?.fallback_contacts||""},targets:{success_goals:c.success_targets?.description||c.targets?.success_goals||"",success_metrics:c.success_targets?.metrics||c.targets?.success_metrics||""}}})};console.log("ðŸ“¤ Sending payload:",JSON.stringify(R,null,2));const ne=await Y.updateClientData(x._id,R);if(console.log("âœ… Update response:",ne),ne&&(ne.success===!0||ne.statusCode===200))V(c=>c.map(k=>k._id===x._id?{...k,...x,...R}:k)),S.success(ne.message||"Client data updated successfully!",{id:"save-toast"}),te(!1),J();else throw new Error(ne?.message||"Update failed")}catch(t){console.error("Error saving client data:",t);const n=t?.response?.data?.message||t?.message||"Failed to save client data";S.error(n,{id:"save-toast"})}},Oe=()=>{te(!1),J()},ns=()=>{te(!o)},rs=async t=>{if(console.log("ðŸš€ handleApproveClient called with client:",t),t?.isApproved){S.error("Client is already approved");return}try{ae(!0),S.loading("Approving client...",{id:"approve-toast"});const n=await Y.approveClient(t._id);if(n?.success)S.success(`${t?.company_basics?.name||"Client"} approved successfully!`,{id:"approve-toast"}),await j(O,L),$?._id===t._id&&J();else throw new Error(n?.message||"Failed to approve client")}catch(n){console.error("Error approving client:",n),S.error("Failed to approve client. Please try again.",{id:"approve-toast"})}finally{ae(!1)}},is=async t=>{if(t?.isRejected){S.error("Client is already rejected");return}const n="Application rejected by admin";try{ae(!0),S.loading("Rejecting client...",{id:"reject-toast"});const l=await Y.rejectClient(t._id,n.trim());if(l?.success)S.success(`${t?.company_basics?.name||"Client"} rejected successfully!`,{id:"reject-toast"}),await j(O,L),$&&$._id===t._id&&J();else throw new Error(l?.message||"Failed to reject client")}catch(l){console.error("Error rejecting client:",l),S.error("Failed to reject client. Please try again.",{id:"reject-toast"})}finally{ae(!1)}},os=async t=>{try{const n=t?.s3_key||t?.key;if(!n){S.error("File key not found");return}const g=(await Y.downloadFileByS3Key(n)).data,p=window.URL.createObjectURL(g);window.open(p,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(p),100)}catch(n){console.error("Error viewing file:",n),S.error("Failed to view file")}},ds=async t=>{try{const n=t?.s3_key||t?.key,l=t?.name||t?.filename||"download";if(!n){S.error("File key not found");return}const p=(await Y.downloadFileByS3Key(n)).data,b=window.URL.createObjectURL(p),y=document.createElement("a");y.href=b,y.download=l,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(b),S.success("Download started")}catch(n){console.error("Error downloading file:",n),S.error("Failed to download file")}},C=(t,n)=>{A(l=>{const g={...l},p=t.split(".");let b=g;for(let y=0;y<p.length-1;y++)b[p[y]]||(b[p[y]]={}),b=b[p[y]];return b[p[p.length-1]]=n,g})},Be=t=>{console.log("updateIndustry called with:",t),A(n=>{const l={...n,company_basics:{...n?.company_basics,industry:t}};return console.log("Updated editData:",l),l})},Ue=()=>{A(t=>({...t,ai_employees:[...t?.ai_employees||[],{name:"",type:"Assistant",template:"",preferred_language:"English",voice_gender:"Gender Neutral",agent_personality:"",voice_style:"",special_instructions:"",knowledge_sources:{faqs_text:"",uploaded_files:[],website_url:"",social_links:{},additional_sources:[]},workflows:[],_id:`new_${Date.now()}`}]}))},cs=t=>{A(n=>({...n,ai_employees:(n?.ai_employees||[]).filter((l,g)=>g!==t)}))},B=(t,n,l)=>{A(g=>({...g,ai_employees:(g?.ai_employees||[]).map((p,b)=>{if(b!==t)return p;const y={...p};if(n.includes(".")){const D=n.split(".");let E=y;for(let R=0;R<D.length-1;R++)E[D[R]]||(E[D[R]]={}),E=E[D[R]];E[D[D.length-1]]=l}else y[n]=l;return y})}))};return _==="agentView"&&U?e.jsx(Gs,{agent:U,onBack:J,currentTheme:s}):_==="details"&&$?e.jsx(Os,{client:$,onBack:J,onEdit:H,onDelete:xe,onApprove:rs,onReject:is,onViewAgent:fe}):_==="edit"&&x?e.jsxs("div",{className:"space-y-4 md:space-y-6 px-2 sm:px-0",children:[e.jsx("div",{className:`${s.cardBg} border ${s.border} rounded-xl p-4 md:p-6 shadow-xl`,children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[e.jsxs("button",{onClick:Oe,className:`flex items-center justify-center sm:justify-start gap-2 px-4 py-2 rounded-lg ${s.hover} ${s.text} transition-all duration-200`,children:[e.jsx(Me,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Cancel"})]}),e.jsxs("h2",{className:`text-xl md:text-2xl font-bold ${s.text} text-center sm:text-left`,children:["Edit: ",x?.company_basics?.name||"Client"]})]}),e.jsx("div",{className:"flex gap-2 sm:gap-3",children:o?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:Oe,className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 border ${s.border} rounded-lg ${s.text} ${s.hover} transition-all duration-200 flex items-center justify-center gap-2 text-sm sm:text-base`,children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Cancel"})]}),e.jsxs("button",{onClick:ls,className:"flex-1 sm:flex-none admin-btn-primary px-3 sm:px-4 py-2 text-sm sm:text-base flex items-center justify-center gap-2",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Save"})]})]}):e.jsxs("button",{onClick:ns,className:"flex-1 sm:flex-none px-3 sm:px-4 py-2 rounded-lg admin-btn-primary transition-all duration-200 flex items-center justify-center gap-2 text-sm sm:text-base",children:[e.jsx(Ee,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-xl p-4 md:p-6 shadow-xl`,children:[e.jsxs("h3",{className:`text-base md:text-lg font-bold ${s.text} mb-3 md:mb-4 flex items-center gap-2`,children:[e.jsx(Re,{className:"w-4 h-4 md:w-5 md:h-5"}),"Company Basics"]}),e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Company Name *"}),e.jsx("input",{type:"text",value:x?.company_basics?.name||"",onChange:t=>C("company_basics.name",t.target.value),disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Description"}),e.jsx("textarea",{value:x?.company_basics?.description||"",onChange:t=>C("company_basics.description",t.target.value),rows:3,disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Company Size"}),e.jsxs("select",{value:x?.company_basics?.company_size||"",onChange:t=>C("company_basics.company_size",t.target.value),disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:[e.jsx("option",{value:"1-10",children:"1-10"}),e.jsx("option",{value:"11-50",children:"11-50"}),e.jsx("option",{value:"51-200",children:"51-200"}),e.jsx("option",{value:"201-500",children:"201-500"}),e.jsx("option",{value:"501-1000",children:"501-1000"}),e.jsx("option",{value:"1000+",children:"1000+"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Industry (select up to 4)"}),e.jsxs("div",{className:"relative","data-industry-dropdown":!0,children:[e.jsx("input",{type:"text",value:G,onChange:t=>T(t.target.value),onFocus:()=>X(!0),onClick:()=>o&&X(!0),disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"} ${(x?.company_basics?.industry||[]).length>=4?"cursor-not-allowed":""}`,placeholder:(x?.company_basics?.industry||[]).length>=4?"Maximum 4 industries selected":"Search or select industries"}),e.jsx(gs,{className:`absolute right-2.5 top-2.5 w-4 h-4 text-gray-400 transition-transform cursor-pointer ${F?"rotate-180":""}`,onClick:()=>o&&X(!F)}),(x?.company_basics?.industry||[]).length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(x?.company_basics?.industry||[]).map((t,n)=>{const l=we.find(g=>g.value===t)?.label||t;return e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-md text-sm flex items-center gap-1",children:[l,o&&e.jsx("button",{type:"button",onClick:()=>{const g=(x?.company_basics?.industry||[]).filter((p,b)=>b!==n);Be(g)},className:"text-blue-600 hover:text-blue-800",children:e.jsx(ee,{className:"w-3 h-3"})})]},n)})}),F&&o&&e.jsxs("div",{className:`absolute z-50 w-full mt-1 ${s.cardBg} border ${s.border} rounded-lg shadow-xl max-h-48 overflow-y-auto`,onClick:t=>t.stopPropagation(),children:[we.filter(t=>t.label.toLowerCase().includes(G.toLowerCase())&&!(x?.company_basics?.industry||[]).includes(t.value)).map(t=>e.jsxs("div",{onClick:n=>{n.stopPropagation(),console.log("Industry option clicked:",t.value);const l=x?.company_basics?.industry||[];console.log("Current industries:",l),t.value==="other"?T("Add your industry type"):l.length<4&&!l.includes(t.value)?(console.log("Adding industry:",t.value),Be([...l,t.value]),T(""),setTimeout(()=>X(!1),100)):console.log("Max industries reached or already selected")},className:`px-3 py-2 border-b ${s.border} last:border-b-0 ${(x?.company_basics?.industry||[]).length>=4?"cursor-not-allowed text-gray-400 bg-gray-50":"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer"}`,children:[t.label,(x?.company_basics?.industry||[]).length>=4&&e.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"(Max reached)"})]},t.value)),G&&!we.some(t=>t.label.toLowerCase().includes(G.toLowerCase()))&&!(x?.company_basics?.industry||[]).includes(G)&&e.jsxs("div",{onClick:t=>{t.stopPropagation(),console.log("Custom industry add clicked:",G);const n=x?.company_basics?.industry||[];n.length<4&&!n.includes(G)&&(console.log("Adding custom industry:",G),Be([...n,G]),T(""),setTimeout(()=>X(!1),100))},className:`px-3 py-2 font-medium ${(x?.company_basics?.industry||[]).length>=4?"cursor-not-allowed text-gray-400 bg-gray-50":"hover:bg-blue-50 cursor-pointer text-blue-600"}`,children:['+ Add "',G,'"']})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Website"}),e.jsx("input",{type:"url",value:x?.company_basics?.website||"",onChange:t=>C("company_basics.website",t.target.value),disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Company Email"}),e.jsx("input",{type:"email",value:x?.company_basics?.company_email||"",onChange:t=>C("company_basics.company_email",t.target.value),disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Company Phone"}),e.jsx("input",{type:"tel",value:x?.company_basics?.company_phone||"",onChange:t=>C("company_basics.company_phone",t.target.value),disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Primary Region - Countries"}),e.jsx("input",{type:"text",value:(x?.company_basics?.primary_region?.countries||[]).join(", "),onChange:t=>{const n=t.target.value.split(",").map(l=>l.trim()).filter(l=>l);C("company_basics.primary_region.countries",n)},placeholder:"USA, Canada, UK (comma separated)",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Primary Region - States/Provinces"}),e.jsx("input",{type:"text",value:(x?.company_basics?.primary_region?.states||[]).join(", "),onChange:t=>{const n=t.target.value.split(",").map(l=>l.trim()).filter(l=>l);C("company_basics.primary_region.states",n)},placeholder:"California, New York, Texas (comma separated)",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Primary Region - Cities"}),e.jsx("input",{type:"text",value:(x?.company_basics?.primary_region?.cities||[]).join(", "),onChange:t=>{const n=t.target.value.split(",").map(l=>l.trim()).filter(l=>l);C("company_basics.primary_region.cities",n)},placeholder:"New York, Los Angeles, Chicago (comma separated)",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]})]})]}),e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-xl p-4 md:p-6 shadow-xl`,children:[e.jsxs("h3",{className:`text-base md:text-lg font-bold ${s.text} mb-3 md:mb-4 flex items-center gap-2`,children:[e.jsx(Ze,{className:"w-4 h-4 md:w-5 md:h-5"}),"Plan Details"]}),e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Plan Type"}),e.jsxs("select",{value:x?.plan_details?.type||"",onChange:t=>{const n=Ne.find(l=>l.apiKey===t.target.value);C("plan_details.type",t.target.value),n&&(C("plan_details.ai_employee_limit",n.aiEmployees),C("plan_details.monthly_price",n.price==="Custom"?0:parseFloat(n.price.replace(/[$\/mo,]/g,"")||"0")))},disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:"Select Plan"}),Ne.map(t=>e.jsxs("option",{value:t.apiKey,children:[t.name," - ",t.price]},t.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Monthly Price ($)"}),e.jsx("input",{type:"number",value:x?.plan_details?.monthly_price||"",onChange:t=>C("plan_details.monthly_price",parseFloat(t.target.value)),disabled:!o||x?.plan_details?.type!=="Custom Plan",placeholder:x?.plan_details?.type==="Custom Plan"?"Enter custom price":"Auto-populated from plan",className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${!o||x?.plan_details?.type!=="Custom Plan"?"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed":`${s.cardBg} ${s.text}`}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"AI Employee Limit"}),e.jsx("input",{type:"number",value:x?.plan_details?.ai_employee_limit||"",onChange:t=>C("plan_details.ai_employee_limit",parseInt(t.target.value)),disabled:!o||x?.plan_details?.type!=="Custom Plan",placeholder:x?.plan_details?.type==="Custom Plan"?"Enter custom limit":"Auto-populated from plan",className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${!o||x?.plan_details?.type!=="Custom Plan"?"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed":`${s.cardBg} ${s.text}`}`})]}),e.jsxs("div",{className:`pt-4 border-t ${s.border}`,children:[e.jsx("h4",{className:`text-sm font-bold ${s.text} mb-3`,children:"Billing Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:x?.plan_details?.billing_contact?.name||"",onChange:t=>C("plan_details.billing_contact.name",t.target.value),placeholder:"Contact Name",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`}),e.jsx("input",{type:"email",value:x?.plan_details?.billing_contact?.email||"",onChange:t=>C("plan_details.billing_contact.email",t.target.value),placeholder:"Contact Email",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`}),e.jsx("input",{type:"tel",value:x?.plan_details?.billing_contact?.phone||"",onChange:t=>C("plan_details.billing_contact.phone",t.target.value),placeholder:"Contact Phone",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`}),e.jsx("input",{type:"text",value:x?.plan_details?.billing_contact?.company_name||"",onChange:t=>C("plan_details.billing_contact.company_name",t.target.value),placeholder:"Billing Company Name (if different)",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]})]}),e.jsxs("div",{className:`pt-4 border-t ${s.border}`,children:[e.jsx("h4",{className:`text-sm font-bold ${s.text} mb-3`,children:"Billing Address"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:x?.plan_details?.billing_address?.street||"",onChange:t=>C("plan_details.billing_address.street",t.target.value),placeholder:"Street Address",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",value:x?.plan_details?.billing_address?.city||"",onChange:t=>C("plan_details.billing_address.city",t.target.value),placeholder:"City",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`}),e.jsx("input",{type:"text",value:x?.plan_details?.billing_address?.state||"",onChange:t=>C("plan_details.billing_address.state",t.target.value),placeholder:"State",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",value:x?.plan_details?.billing_address?.postal_code||"",onChange:t=>C("plan_details.billing_address.postal_code",t.target.value),placeholder:"Postal Code",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`}),e.jsx("input",{type:"text",value:x?.plan_details?.billing_address?.country||"",onChange:t=>C("plan_details.billing_address.country",t.target.value),placeholder:"Country",disabled:!o,className:`w-full px-3 md:px-4 py-2 text-sm md:text-base rounded-lg border ${s.border} focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]})]})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-xl p-4 md:p-6 shadow-xl lg:col-span-2`,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[e.jsxs("h3",{className:`text-lg md:text-xl font-bold ${s.text} flex items-center gap-3`,children:[e.jsx("div",{className:`p-2 rounded-lg ${s.activeBg}`,children:e.jsx(_e,{className:"w-5 h-5 md:w-6 md:h-6"})}),e.jsxs("div",{children:[e.jsx("span",{children:"AI Employees"}),e.jsxs("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${s.searchBg} ${s.textSecondary}`,children:[(x?.ai_employees||[]).length," configured"]})]})]}),e.jsxs("button",{onClick:Ue,disabled:!o,className:`admin-btn-primary px-4 py-2.5 text-sm w-full sm:w-auto flex items-center justify-center gap-2 font-medium ${o?"":"opacity-60 cursor-not-allowed"}`,children:[e.jsx(De,{className:"w-4 h-4"}),"Add AI Employee"]})]}),e.jsx("div",{className:"space-y-6",children:(x?.ai_employees||[]).length===0?e.jsxs("div",{className:`text-center py-12 border-2 border-dashed ${s.border} rounded-xl`,children:[e.jsx("div",{className:`p-3 rounded-full ${s.searchBg} w-16 h-16 mx-auto mb-4 flex items-center justify-center`,children:e.jsx(_e,{className:`w-8 h-8 ${s.textSecondary}`})}),e.jsx("h4",{className:`text-lg font-medium ${s.text} mb-2`,children:"No AI Employees Yet"}),e.jsx("p",{className:`${s.textSecondary} text-sm mb-4`,children:"Add your first AI employee to get started with automation"}),o&&e.jsxs("button",{onClick:Ue,className:"admin-btn-primary px-6 py-2.5 text-sm font-medium",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Create First AI Employee"]})]}):(x?.ai_employees||[]).map((t,n)=>e.jsxs("div",{className:`p-6 rounded-xl border ${s.border} ${s.searchBg} shadow-sm`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.cardBg} border ${s.border}`,children:e.jsx(Z,{className:`w-5 h-5 ${s.text}`})}),e.jsxs("div",{children:[e.jsx("h4",{className:`${s.text} font-bold text-lg`,children:t?.name||`AI Employee #${n+1}`}),e.jsxs("p",{className:`${s.textSecondary} text-sm`,children:[t?.type||"Assistant"," â€¢"," ",t?.preferred_language||"English"]})]})]}),(x?.ai_employees||[]).length>1&&e.jsx("button",{onClick:()=>cs(n),className:`p-2 rounded-lg ${s.hover} text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center gap-2`,title:"Remove AI Employee",children:e.jsx(ee,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Name"}),e.jsx("input",{type:"text",value:t?.name||"",onChange:l=>B(n,"name",l.target.value),disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Type"}),e.jsxs("select",{value:t?.type||"",onChange:l=>B(n,"type",l.target.value),disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:"Select type"}),Ps.map(l=>e.jsx("option",{value:l.label,children:l.label},l.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Template"}),e.jsxs("select",{value:t?.template||"",onChange:l=>B(n,"template",l.target.value),disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:"Select template"}),as.map(l=>e.jsx("option",{value:l.label,children:l.label},l.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Language"}),e.jsxs("select",{value:t?.preferred_language||"",onChange:l=>B(n,"preferred_language",l.target.value),disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:"Select language"}),Ms.map(l=>e.jsx("option",{value:l.label,children:l.label},l.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Voice Gender"}),e.jsxs("select",{value:t?.voice_gender||"",onChange:l=>B(n,"voice_gender",l.target.value),disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:"Select voice gender"}),Fs.map(l=>e.jsx("option",{value:l.label,children:l.label},l.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Personality"}),e.jsx("input",{type:"text",value:t?.agent_personality||"",onChange:l=>B(n,"agent_personality",l.target.value),disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Voice Style"}),e.jsx("input",{type:"text",value:t?.voice_style||"",onChange:l=>B(n,"voice_style",l.target.value),placeholder:"e.g., Professional, Friendly, Energetic",disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Special Instructions"}),e.jsx("textarea",{value:t?.special_instructions||"",onChange:l=>B(n,"special_instructions",l.target.value),rows:2,disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("label",{className:`text-xs ${s.textSecondary} uppercase block`,children:[e.jsx(re,{className:"w-4 h-4 inline mr-1"}),"Workflow Integrations (",(t?.workflows||[]).length,")"]}),e.jsxs("button",{type:"button",onClick:()=>{A(l=>({...l,ai_employees:(l?.ai_employees||[]).map((g,p)=>p===n?{...g,workflows:[...g.workflows||[],{name:"WhatsApp Business",instruction:"Configure WhatsApp Business integration"}]}:g)}))},className:"px-3 py-1 rounded-lg text-xs bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 transition-colors flex items-center gap-1",children:[e.jsx(Le,{className:"w-3 h-3"}),"Add Workflow"]})]}),e.jsx("div",{className:"space-y-3",children:(t?.workflows||[]).length>0?(t?.workflows||[]).map((l,g)=>e.jsxs("div",{className:`p-4 rounded-lg border ${s.border} ${s.cardBg}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h5",{className:`text-sm font-medium ${s.text} flex items-center gap-2`,children:[e.jsx(us,{className:"w-4 h-4"}),"Workflow #",g+1]}),e.jsx("button",{type:"button",onClick:()=>{A(p=>({...p,ai_employees:(p?.ai_employees||[]).map((b,y)=>y===n?{...b,workflows:(b.workflows||[]).filter((D,E)=>E!==g)}:b)}))},className:`p-1 rounded ${s.hover} text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors`,children:e.jsx(ee,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Integration Type"}),e.jsxs("select",{value:l?.name||"",onChange:p=>{A(b=>({...b,ai_employees:(b?.ai_employees||[]).map((y,D)=>D===n?{...y,workflows:(y.workflows||[]).map((E,R)=>R===g?{...E,name:p.target.value}:E)}:y)}))},disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:"Select Integration"}),e.jsx("option",{value:"WhatsApp Business",children:"WhatsApp Business"}),e.jsx("option",{value:"Gmail",children:"Gmail"}),e.jsx("option",{value:"Webhooks",children:"Webhooks"}),e.jsx("option",{value:"Google Calendar",children:"Google Calendar"}),e.jsx("option",{value:"Calendly",children:"Calendly"}),e.jsx("option",{value:"Google Sheets",children:"Google Sheets"}),e.jsx("option",{value:"Zoho CRM",children:"Zoho CRM"}),e.jsx("option",{value:"Odoo",children:"Odoo"}),e.jsx("option",{value:"HubSpot",children:"HubSpot"}),e.jsx("option",{value:"Salesforce CRM",children:"Salesforce CRM"}),e.jsx("option",{value:"Zendesk",children:"Zendesk"}),e.jsx("option",{value:"Shopify",children:"Shopify"}),e.jsx("option",{value:"Slack",children:"Slack"}),e.jsx("option",{value:"Zapier",children:"Zapier"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-1`,children:"Integration Instructions"}),e.jsx("textarea",{value:l?.instruction||"",onChange:p=>{A(b=>({...b,ai_employees:(b?.ai_employees||[]).map((y,D)=>D===n?{...y,workflows:(y.workflows||[]).map((E,R)=>R===g?{...E,instruction:p.target.value}:E)}:y)}))},rows:3,placeholder:"Enter specific instructions for this workflow integration...",disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),l?.name&&e.jsx("div",{className:`p-3 rounded-lg ${s.searchBg} border ${s.border}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:`p-2 rounded-lg ${s.activeBg}`,children:[l?.name==="WhatsApp Business"&&e.jsx(bs,{className:"w-4 h-4 text-green-600"}),l?.name==="Gmail"&&e.jsx(hs,{className:"w-4 h-4 text-blue-600"}),l?.name==="Google Calendar"&&e.jsx(ys,{className:"w-4 h-4 text-blue-600"}),l?.name==="Shopify"&&e.jsx(js,{className:"w-4 h-4 text-green-600"}),l?.name==="Slack"&&e.jsx(fs,{className:"w-4 h-4 text-purple-600"}),!["WhatsApp Business","Gmail","Google Calendar","Shopify","Slack"].includes(l?.name)&&e.jsx(vs,{className:"w-4 h-4 text-gray-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h6",{className:`text-sm font-medium ${s.text} mb-1`,children:[l?.name," Integration"]}),e.jsx("p",{className:`text-xs ${s.textSecondary}`,children:l?.instruction||"No instructions provided"}),e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-1"}),"Configured"]})})]})]})})]})]},g)):e.jsxs("div",{className:`text-center py-6 border-2 border-dashed ${s.border} rounded-lg`,children:[e.jsx(re,{className:`w-8 h-8 mx-auto mb-2 ${s.textSecondary} opacity-50`}),e.jsx("p",{className:`${s.textSecondary} text-sm font-medium mb-1`,children:"No workflow integrations configured"}),e.jsx("p",{className:`${s.textSecondary} text-xs mb-3 opacity-75`,children:"Add integrations like WhatsApp, Gmail, CRM systems to enhance this AI employee"}),e.jsxs("button",{type:"button",onClick:()=>{A(l=>({...l,ai_employees:(l?.ai_employees||[]).map((g,p)=>p===n?{...g,workflows:[{name:"",instruction:""}]}:g)}))},className:"px-4 py-2 rounded-lg text-sm bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 transition-colors flex items-center gap-2 mx-auto",children:[e.jsx(Le,{className:"w-4 h-4"}),"Add Your First Workflow"]})]})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("label",{className:`text-xs ${s.textSecondary} uppercase block`,children:[e.jsx(Ns,{className:"w-4 h-4 inline mr-1"}),"Knowledge Sources"]})}),e.jsxs("div",{className:"mb-4 p-4 rounded-lg border ${currentTheme.border} ${currentTheme.searchBg}",children:[e.jsxs("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:[e.jsx(Xe,{className:"w-4 h-4 inline mr-1"}),"Website URL"]}),e.jsx("input",{type:"url",value:t?.knowledge_sources?.website_url||"",onChange:l=>{A(g=>({...g,ai_employees:(g?.ai_employees||[]).map((p,b)=>b===n?{...p,knowledge_sources:{...p.knowledge_sources,website_url:l.target.value}}:p)}))},placeholder:"https://example.com",disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{className:"mb-4 p-4 rounded-lg border ${currentTheme.border} ${currentTheme.searchBg}",children:[e.jsxs("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:[e.jsx($s,{className:"w-4 h-4 inline mr-1"}),"FAQs / Knowledge Text"]}),e.jsx("textarea",{value:t?.knowledge_sources?.faqs_text||"",onChange:l=>{A(g=>({...g,ai_employees:(g?.ai_employees||[]).map((p,b)=>b===n?{...p,knowledge_sources:{...p.knowledge_sources,faqs_text:l.target.value}}:p)}))},rows:4,placeholder:"Enter frequently asked questions and answers, or any text-based knowledge...",disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{className:"mb-4 p-4 rounded-lg border ${currentTheme.border} ${currentTheme.searchBg}",children:[e.jsxs("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:[e.jsx(re,{className:"w-4 h-4 inline mr-1"}),"Uploaded Files (",(t?.knowledge_sources?.uploaded_files||[]).length,")"]}),(t?.knowledge_sources?.uploaded_files||[]).length>0?e.jsx("div",{className:"space-y-2",children:(t?.knowledge_sources?.uploaded_files||[]).map((l,g)=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${s.border} ${s.cardBg}`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(re,{className:`w-4 h-4 ${s.textSecondary}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${s.text} truncate`,children:l.original_name||l.filename||l.name||"Unnamed File"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.file_size&&e.jsxs("span",{className:`text-xs ${s.textSecondary}`,children:[(l.file_size/1024).toFixed(1)," ","KB"]}),l.file_type&&e.jsx("span",{className:`text-xs ${s.textSecondary} bg-gray-100 px-2 py-0.5 rounded`,children:l.file_type})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>os(l),className:`p-2 rounded-lg ${s.hover} ${s.textSecondary} hover:text-blue-600 transition-colors`,title:"View File",children:e.jsx(ke,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ds(l),className:`p-2 rounded-lg ${s.hover} ${s.textSecondary} hover:text-green-600 transition-colors`,title:"Download File",children:e.jsx(ws,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{A(p=>({...p,ai_employees:(p?.ai_employees||[]).map((b,y)=>y===n?{...b,knowledge_sources:{...b.knowledge_sources,uploaded_files:(b.knowledge_sources?.uploaded_files||[]).filter((D,E)=>E!==g)}}:b)}))},className:`p-2 rounded-lg ${s.hover} text-red-500 hover:bg-red-50 transition-colors`,title:"Remove File",children:e.jsx(ee,{className:"w-4 h-4"})})]})]},g))}):e.jsxs("div",{className:`text-center py-6 border-2 border-dashed ${s.border} rounded-lg`,children:[e.jsx(re,{className:`w-8 h-8 mx-auto mb-2 ${s.textSecondary} opacity-50`}),e.jsx("p",{className:`${s.textSecondary} text-sm`,children:"No files uploaded yet"}),e.jsx("p",{className:`${s.textSecondary} text-xs mt-1 opacity-75`,children:"Files will appear here when uploaded during onboarding"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("input",{type:"file",multiple:!0,disabled:!o,onChange:l=>{const g=Array.from(l.target.files||[]);if(g.length>0){const p=g.map(b=>({name:b.name,original_name:b.name,file_size:b.size,file_type:b.type,pending_upload:!0,fileObject:b}));A(b=>({...b,ai_employees:(b?.ai_employees||[]).map((y,D)=>D===n?{...y,knowledge_sources:{...y.knowledge_sources,uploaded_files:[...y.knowledge_sources?.uploaded_files||[],...p]}}:y)})),l.target.value=""}},className:`w-full px-3 py-2 text-sm border-2 border-dashed ${s.border} rounded-lg ${s.cardBg} ${s.text} file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100`,accept:".pdf,.doc,.docx,.txt,.csv,.xlsx"}),e.jsx("p",{className:`text-xs ${s.textSecondary} mt-2`,children:"Supported formats: PDF, DOC, DOCX, TXT, CSV, XLSX"})]})]})]})]}),e.jsxs("div",{className:"mt-8 space-y-6",children:[e.jsxs("div",{className:`border-t ${s.border} pt-6`,children:[e.jsxs("h4",{className:`text-md font-semibold ${s.text} flex items-center gap-2 mb-4`,children:[e.jsx(Ge,{className:"w-4 h-4 text-green-600"}),"Instructions & Guidelines",e.jsx("span",{className:`text-xs ${s.textSecondary} font-normal`,children:"Set behavior guidelines"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Do's and Don'ts"}),e.jsx("textarea",{value:t?.instructions?.dos_and_donts||"",onChange:l=>B(n,"instructions.dos_and_donts",l.target.value),rows:4,placeholder:"Be professional, Don't share personal information...",disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Fallback Contacts"}),e.jsx("input",{type:"text",value:t?.instructions?.fallback_contacts||"",onChange:l=>B(n,"instructions.fallback_contacts",l.target.value),placeholder:"atharkatheri@gmail.com",disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]})]})]}),e.jsxs("div",{className:`border-t ${s.border} pt-6`,children:[e.jsxs("h4",{className:`text-md font-semibold ${s.text} flex items-center gap-2 mb-4`,children:[e.jsx(_s,{className:"w-4 h-4 text-orange-600"}),"Success Targets",e.jsx("span",{className:`text-xs ${s.textSecondary} font-normal`,children:"Define success metrics"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"What Success Looks Like"}),e.jsx("textarea",{value:t?.success_targets?.description||"",onChange:l=>B(n,"success_targets.description",l.target.value),rows:3,placeholder:"Lead qualification, booking appointments, FAQ deflection...",disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Success Metrics"}),e.jsxs("div",{className:"space-y-2",children:[(t?.success_targets?.metrics||[""]).map((l,g)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:l,onChange:p=>{const b=[...t?.success_targets?.metrics||[]];b[g]=p.target.value,B(n,"success_targets.metrics",b)},placeholder:"80% FAQ resolution rate",disabled:!o,className:`flex-1 px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`}),e.jsx("button",{onClick:()=>{const p=(t?.success_targets?.metrics||[]).filter((b,y)=>y!==g);B(n,"success_targets.metrics",p)},className:"px-2 py-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:e.jsx(ee,{className:"w-4 h-4"})})]},g)),e.jsxs("button",{onClick:()=>{const l=[...t?.success_targets?.metrics||[],""];B(n,"success_targets.metrics",l)},className:`flex items-center gap-2 px-3 py-2 border-2 border-dashed ${s.border} rounded-lg ${s.text} hover:bg-opacity-50 transition-colors text-sm`,children:[e.jsx(Le,{className:"w-4 h-4"}),"Add Metric"]})]})]})]})]}),e.jsxs("div",{className:`border-t ${s.border} pt-6`,children:[e.jsxs("h4",{className:`text-md font-semibold ${s.text} flex items-center gap-2 mb-4`,children:[e.jsx(Te,{className:"w-4 h-4 text-purple-600"}),"Deployment Configuration",e.jsx("span",{className:`text-xs ${s.textSecondary} font-normal`,children:"Choose deployment options"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Service Type"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("label",{className:`flex items-center gap-3 p-3 border ${s.border} rounded-lg cursor-pointer transition-colors ${t?.deployment?.service_type==="shivai"?"bg-blue-50 border-blue-200 dark:bg-blue-900/20":""}`,children:[e.jsx("input",{type:"radio",name:`service_type_${n}`,checked:t?.deployment_service?.service_type==="shivai",onChange:l=>B(n,"deployment_service.service_type","shivai"),disabled:!o,className:`w-4 h-4 text-blue-500 ${o?"":"opacity-60 cursor-not-allowed"}`}),e.jsx("span",{className:"text-sm",children:"Shivai"})]}),e.jsxs("label",{className:`flex items-center gap-3 p-3 border ${s.border} rounded-lg cursor-pointer transition-colors ${t?.deployment?.service_type==="self"?"bg-blue-50 border-blue-200 dark:bg-blue-900/20":""}`,children:[e.jsx("input",{type:"radio",name:`service_type_${n}`,checked:t?.deployment_service?.service_type==="self",onChange:l=>B(n,"deployment_service.service_type","self"),disabled:!o,className:`w-4 h-4 text-blue-500 ${o?"":"opacity-60 cursor-not-allowed"}`}),e.jsx("span",{className:"text-sm",children:"Self-managed"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Channels"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Website","Mobile App"].map(l=>e.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 border ${s.border} rounded-full cursor-pointer text-sm transition-colors ${(t?.deployment?.channels||[]).includes(l)?"bg-blue-50 border-blue-200 dark:bg-blue-900/20":""}`,children:[e.jsx("input",{type:"checkbox",checked:(t?.deployment?.channels||[]).includes(l),onChange:g=>{const p=t?.deployment?.channels||[],b=g.target.checked?[...p,l]:p.filter(y=>y!==l);B(n,"deployment.channels",b)},disabled:!o,className:`w-3 h-3 text-blue-500 ${o?"":"opacity-60 cursor-not-allowed"}`}),l]},l))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Deployment Notes"}),e.jsx("textarea",{value:t?.deployment_targets?.deployment_notes||"",onChange:l=>B(n,"deployment_targets.deployment_notes",l.target.value),rows:3,placeholder:"Phase 1: Website implementation...",disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]})]})]}),e.jsxs("div",{className:`border-t ${s.border} pt-6`,children:[e.jsxs("h4",{className:`text-md font-semibold ${s.text} flex items-center gap-2 mb-4`,children:[e.jsx(ks,{className:"w-4 h-4 text-gray-600"}),"Consent & Privacy Options",e.jsx("span",{className:`text-xs ${s.textSecondary} font-normal`,children:"Privacy settings"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t?.consent_options?.recording_enabled||!1,onChange:l=>B(n,"consent_options.recording_enabled",l.target.checked),disabled:!o,className:`w-4 h-4 text-blue-500 rounded ${o?"":"opacity-50 cursor-not-allowed"}`}),e.jsx("span",{className:"text-sm",children:"Recording Enabled"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t?.consent_options?.transcript_email_optin||!1,onChange:l=>B(n,"consent_options.transcript_email_optin",l.target.checked),disabled:!o,className:`w-4 h-4 text-blue-500 rounded ${o?"":"opacity-50 cursor-not-allowed"}`}),e.jsx("span",{className:"text-sm",children:"Transcript Email Opt-in"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-xs ${s.textSecondary} uppercase block mb-2`,children:"Privacy Notes"}),e.jsx("input",{type:"text",value:t?.consent_options?.privacy_notes||"",onChange:l=>B(n,"consent_options.privacy_notes",l.target.value),placeholder:"Privacy enabled",disabled:!o,className:`w-full px-3 py-2 rounded-lg border ${s.border} text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${o?`${s.cardBg} ${s.text}`:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`})]})]})]})]})]},n))})]})})]}):e.jsxs("div",{className:"space-y-4 md:space-y-6 px-2 sm:px-0",children:[e.jsx("div",{className:"relative -mx-2 sm:mx-0",children:e.jsxs("div",{className:"flex md:grid md:grid-cols-3 gap-3 md:gap-4 overflow-x-auto scrollbar-hide px-2 sm:px-0 snap-x snap-mandatory",children:[e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-lg p-4 md:p-6 shadow-lg min-w-[280px] sm:min-w-[320px] md:min-w-0 snap-center flex-shrink-0`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-3",children:[e.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-lg ${s.searchBg} flex items-center justify-center`,children:e.jsx(We,{className:`w-5 h-5 md:w-6 md:h-6 ${s.textSecondary}`})}),e.jsx("span",{className:"text-xs md:text-sm font-medium text-blue-500",children:"Total"})]}),e.jsx("h3",{className:`text-2xl md:text-3xl font-semibold ${s.text} mb-1 md:mb-2`,children:K?.total||pe||v("all")}),e.jsx("p",{className:`text-xs md:text-sm font-medium ${s.text}`,children:"All Clients"}),K&&e.jsxs("p",{className:`text-xs ${s.textSecondary} mt-1`,children:["Page ",K.page||L," of"," ",K.totalPages||le]})]}),e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-lg p-4 md:p-6 shadow-lg min-w-[280px] sm:min-w-[320px] md:min-w-0 snap-center flex-shrink-0`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-3",children:[e.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-lg ${s.searchBg} flex items-center justify-center`,children:e.jsx(Ie,{className:`w-5 h-5 md:w-6 md:h-6 ${s.textSecondary}`})}),e.jsx("span",{className:"text-xs md:text-sm font-medium text-yellow-500",children:"Pending"})]}),e.jsx("h3",{className:`text-2xl md:text-3xl font-semibold ${s.text} mb-1 md:mb-2`,children:v("pending")}),e.jsx("p",{className:`text-xs md:text-sm font-medium ${s.text}`,children:"Awaiting Review"})]}),e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-lg p-4 md:p-6 shadow-lg min-w-[280px] sm:min-w-[320px] md:min-w-0 snap-center flex-shrink-0`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-3",children:[e.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-lg ${s.searchBg} flex items-center justify-center`,children:e.jsx($e,{className:`w-5 h-5 md:w-6 md:h-6 ${s.textSecondary}`})}),e.jsx("span",{className:"text-xs md:text-sm font-medium text-green-500",children:"Active"})]}),e.jsx("h3",{className:`text-2xl md:text-3xl font-semibold ${s.text} mb-1 md:mb-2`,children:v("approved")}),e.jsx("p",{className:`text-xs md:text-sm font-medium ${s.text}`,children:"Approved Clients"})]})]})}),e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-lg p-3 sm:p-4 md:p-6 shadow-lg`,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 md:gap-4 mb-4 md:mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:`text-lg md:text-xl font-semibold ${s.text} flex items-center gap-2`,children:[e.jsx(We,{className:"w-4 h-4 md:w-5 md:h-5"}),"Client Requests"]}),e.jsxs("p",{className:`${s.textSecondary} text-xs md:text-sm mt-1`,children:["(",K?.total||pe||v("all")," total)"]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 w-full sm:w-auto",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:`p-2 rounded-lg ${s.hover} ${s.text} transition-all duration-200 flex-shrink-0`,title:"Refresh data",children:e.jsx(Ss,{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsx(Cs,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${s.textSecondary}`}),e.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:t=>I(t.target.value),className:`w-full sm:w-48 md:w-64 pl-9 pr-3 py-2 text-sm rounded-lg border ${s.border} ${s.bg} ${s.text} focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]})]})]}),e.jsx("div",{className:`flex gap-1 mb-4 md:mb-6 border-b ${s.border} overflow-x-auto scrollbar-hide -mx-3 sm:mx-0 px-3 sm:px-0`,children:["all","newlySignup","pending","onboarded","approved","rejected"].map(t=>{const n={all:{icon:Ge,label:"All"},newlySignup:{icon:De,label:"Newly Signup"},pending:{icon:Ie,label:"Pending"},onboarded:{icon:$e,label:"Onboarded"},approved:{icon:As,label:"Approved"},rejected:{icon:ee,label:"Rejected"}},{icon:l,label:g}=n[t];return e.jsx("button",{onClick:()=>d(t),className:`flex-shrink-0 px-3 md:px-4 py-2 md:py-3 text-sm md:text-base font-medium transition-all duration-200 border-b-2 whitespace-nowrap ${O===t?`${s.activeBorder} ${s.text}`:`border-transparent ${s.textSecondary} ${s.hover}`}`,children:e.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[e.jsx(l,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),e.jsx("span",{className:"text-sm md:text-base",children:g})]})},t)})}),e.jsx("div",{className:"space-y-3 md:space-y-4",children:ge?e.jsxs("div",{className:`text-center py-12 md:py-16 rounded-lg ${s.cardBg} border ${s.border}`,children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 md:h-12 md:w-12 border-b-2 border-blue-500 mx-auto mb-3"}),e.jsx("h3",{className:`text-base md:text-lg font-semibold ${s.text} mb-2`,children:"Loading clients..."}),e.jsx("p",{className:`text-sm ${s.textSecondary}`,children:"Please wait while we fetch the data"})]}):N.length===0?e.jsxs("div",{className:`text-center py-8 md:py-12 rounded-lg ${s.cardBg} border ${s.border}`,children:[e.jsx(es,{className:`w-10 h-10 md:w-12 md:h-12 mx-auto mb-2 md:mb-3 ${s.textSecondary}`}),e.jsx("h3",{className:`text-base md:text-lg font-semibold ${s.text} mb-1 md:mb-2`,children:f?"No matching clients":"No client requests yet"}),e.jsx("p",{className:`text-sm ${s.textSecondary}`,children:f?"Try adjusting your search criteria":"No client requests available"})]}):N?.map(t=>e.jsxs("div",{className:`${s.cardBg} border ${s.border} rounded-lg p-3 md:p-4 hover:shadow-md transition-all duration-200`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2 md:mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:`w-9 h-9 md:w-10 md:h-10 rounded-lg ${s.activeBg} flex items-center justify-center flex-shrink-0`,children:e.jsx(Re,{className:`w-4 h-4 md:w-5 md:h-5 ${s.text}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`font-semibold ${s.text} text-base md:text-lg truncate`,children:t?.userData?.fullName||t?.company_basics?.name||"Unknown"}),e.jsx("p",{className:`text-xs md:text-sm ${s.textSecondary} truncate`,children:t?.userData?.email||t?.company_basics?.company_email||"No email"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>ts(t?.userData),className:`p-2 flex items-center justify-center ${s.textSecondary} rounded-lg ${s.activeBg} hover:scale-105 transition-all duration-200`,title:"View Client Details",children:e.jsx(ke,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>H(t?.userData),className:`p-2 flex items-center justify-center ${s.textSecondary} rounded-lg ${s.activeBg} hover:scale-105 transition-all duration-200`,title:"Edit Client",children:e.jsx(Ee,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>xe(t?.userData),className:"p-2 flex items-center justify-center text-red-500 rounded-lg hover:bg-red-50 hover:scale-105 transition-all duration-200",title:"Delete Client",children:e.jsx(Fe,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${s.textSecondary} uppercase mb-0.5`,children:"Plan"}),e.jsx("p",{className:`${s.text} font-medium text-xs md:text-sm truncate`,children:(()=>{const n=t?.userData?.onboarding?.plan_type||t?.plan_details?.type,l=Ne.find(g=>g.apiKey===n);return l?`${l.name} (${l.price})`:n||"No plan"})()})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${s.textSecondary} uppercase`,children:"Company"}),e.jsx("p",{className:`${s.text} font-medium text-sm`,children:t?.userData?.onboarding?.company_name||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${s.textSecondary} uppercase`,children:"Email"}),e.jsx("p",{className:`${s.text} font-medium text-sm truncate`,children:t?.userData?.onboarding?.company_email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs ${s.textSecondary} uppercase`,children:"AI Employees"}),e.jsx("p",{className:`${s.text} font-medium text-sm`,children:t?.userData?.onboarding?.ai_employee_count||(t?.ai_employees||[]).length})]})]})]},t.id))}),le>1&&e.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 md:gap-3 mt-4 md:mt-6 p-3 md:p-4 rounded-lg ${s.searchBg}`,children:[e.jsxs("div",{className:`text-xs md:text-sm ${s.textSecondary} text-center sm:text-left`,children:["Showing"," ",((K?.page||L)-1)*(K?.limit||me)+1," ","to"," ",Math.min((K?.page||L)*(K?.limit||me),K?.total||pe)," ","of ",K?.total||pe]}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:W,disabled:L===1,className:`px-2.5 md:px-3 py-1.5 text-xs md:text-sm rounded-md transition-all duration-200 ${L===1?`${s.textSecondary} cursor-not-allowed opacity-50`:`${s.text} ${s.hover} hover:scale-105`}`,children:"Previous"}),e.jsxs("span",{className:`mx-2 md:mx-3 text-xs md:text-sm ${s.text}`,children:[K?.page||L,"/",K?.totalPages||le]}),e.jsx("button",{onClick:q,disabled:L===le,className:`px-2.5 md:px-3 py-1.5 text-xs md:text-sm rounded-md transition-all duration-200 ${L===le?`${s.textSecondary} cursor-not-allowed opacity-50`:`${s.text} ${s.hover} hover:scale-105`}`,children:"Next"})]})]})]})]})};export{Vs as AIEmployeesTab,Gs as AgentDetailsView,Ks as ClientDetailsTab,Us as OnboardingDataTab,Ws as TransactionsTab,Js as default};
