const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Authentication-DipXALbY.js","assets/admin-Cce-YsoM.js","assets/router-XmtKX7_0.js","assets/vendor-DJG_os-6.js","assets/icons-Cqmju2Jh.js","assets/admin-DFM6P_3h.css","assets/index-j31bEPQ2.js","assets/index-DsoJJlpW.css","assets/ClientManagement-Dbzi-5lh.js","assets/index-C-iwF9Mg.js","assets/WidgetManagementPlaceholder-Do18P9zp.js","assets/TransactionManagement-BdPnd0WS.js","assets/SupportTickets-Cc4bRWZZ.js","assets/AnalyticsOptimized-B5H0-5zd.js","assets/SystemSettings-bA5UYy5y.js"])))=>i.map(i=>d[i]);
import{_ as c}from"./index-j31bEPQ2.js";import{j as e,T as f,F as y}from"./admin-Cce-YsoM.js";import{r as d,B as v,a as b,b as i,R as E}from"./router-XmtKX7_0.js";import"./vendor-DJG_os-6.js";import"./icons-Cqmju2Jh.js";const S=d.createContext(),A=({children:r})=>{const[t,o]=d.useState(null),[h,m]=d.useState(!1),[j,w]=d.useState(!0);d.useEffect(()=>{(()=>{try{const s=localStorage.getItem("isAuthenticated"),a=localStorage.getItem("user");s==="true"&&a&&(m(!0),o(JSON.parse(a)))}catch(s){console.error("Error checking authentication:",s),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("user")}finally{w(!1)}})()},[]);const _={user:t,isAuthenticated:h,isLoading:j,signIn:async(n,s)=>{try{const a=await u.signIn({email:n,password:s}),g={id:a.id||Date.now().toString(),email:a.email||n,name:a.name||"User",avatar:a.avatar||null};return o(g),m(!0),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("user",JSON.stringify(g)),{success:!0,user:g}}catch(a){throw new Error(a.message||"Sign in failed")}},signUp:async n=>{try{const s=await u.signUp(n),a={id:s.id||Date.now().toString(),email:s.email||n.email,name:s.name||n.name,avatar:s.avatar||null};return o(a),m(!0),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("user",JSON.stringify(a)),{success:!0,user:a}}catch(s){throw new Error(s.message||"Sign up failed")}},signOut:()=>{o(null),m(!1),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("user"),localStorage.removeItem("token")},updateUser:n=>{const s={...t,...n};o(s),localStorage.setItem("user",JSON.stringify(s))},forgotPassword:async n=>{try{return await u.forgotPassword({email:n}),{success:!0,message:"Password reset link sent to your email"}}catch(s){throw new Error(s.message||"Failed to send reset email")}},resetPassword:async(n,s)=>{try{return await u.resetPassword({token:n,password:s}),{success:!0,message:"Password reset successfully"}}catch(a){throw new Error(a.message||"Failed to reset password")}}};return e.jsx(S.Provider,{value:_,children:r})},u={signIn:async({email:r,password:t})=>{if(await new Promise(o=>setTimeout(o,1e3)),r==="admin@shivai.com"&&t==="Admin123")return{id:"1",email:"admin@shivai.com",name:"Admin User",avatar:null,token:"demo-token-123"};throw new Error("Invalid email or password")},signUp:async({name:r,email:t,password:o})=>(await new Promise(h=>setTimeout(h,1e3)),{id:Date.now().toString(),email:t,name:r,avatar:null,token:"demo-token-"+Date.now()}),forgotPassword:async({email:r})=>(await new Promise(t=>setTimeout(t,1e3)),{success:!0}),resetPassword:async({token:r,password:t})=>(await new Promise(o=>setTimeout(o,1e3)),{success:!0}),socialAuth:async r=>(await new Promise(t=>setTimeout(t,1e3)),{id:Date.now().toString(),email:`user@${r}.com`,name:`${r} User`,avatar:null,token:`${r}-token-`+Date.now()})};class P extends E.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,o){console.error("Lazy loading failed:",t,o)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-700 mb-2",children:"Loading Error"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Failed to load component. Please refresh the page."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Refresh Page"})]})}):this.props.children}}const l=(r,t)=>d.lazy(()=>r().catch(o=>(console.error(`Failed to load ${t}:`,o),{default:()=>e.jsxs("div",{children:["Error loading ",t]})}))),p=l(()=>c(()=>import("./Authentication-DipXALbY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),"Authentication"),I=l(()=>c(()=>import("./admin-Cce-YsoM.js").then(r=>r.aN),__vite__mapDeps([1,2,3,4,5])),"DashboardLayout"),L=l(()=>c(()=>import("./admin-Cce-YsoM.js").then(r=>r.aO),__vite__mapDeps([1,2,3,4,5])),"DashboardHome"),x=l(()=>c(()=>import("./ClientManagement-Dbzi-5lh.js"),__vite__mapDeps([8,1,2,3,4,5])),"ClientManagement"),T=l(()=>c(()=>import("./index-C-iwF9Mg.js"),__vite__mapDeps([9,1,2,3,4,5])),"AIEmployeeStatsContainer"),D=l(()=>c(()=>import("./WidgetManagementPlaceholder-Do18P9zp.js"),__vite__mapDeps([10,1,2,3,4,5])),"WidgetManagement"),k=l(()=>c(()=>import("./TransactionManagement-BdPnd0WS.js"),__vite__mapDeps([11,1,2,3,4,5])),"TransactionManagement"),N=l(()=>c(()=>import("./SupportTickets-Cc4bRWZZ.js"),__vite__mapDeps([12,1,2,3,4,5])),"SupportTickets"),O=l(()=>c(()=>import("./AnalyticsOptimized-B5H0-5zd.js"),__vite__mapDeps([13,1,2,3,4,5])),"AnalyticsOptimized"),R=l(()=>c(()=>import("./SystemSettings-bA5UYy5y.js"),__vite__mapDeps([14,1,2,3,4,5])),"SystemSettings"),U=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading..."})]})});function q(){return e.jsx("div",{className:"App",children:e.jsx(f,{children:e.jsx(A,{children:e.jsx(P,{children:e.jsx(d.Suspense,{fallback:e.jsx(U,{}),children:e.jsxs(v,{children:[e.jsxs(b,{children:[e.jsx(i,{path:"/",element:e.jsx(p,{})}),e.jsx(i,{path:"/login",element:e.jsx(p,{})}),e.jsxs(i,{path:"/dashboard",element:e.jsx(I,{}),children:[e.jsx(i,{index:!0,element:e.jsx(L,{})}),e.jsx(i,{path:"clients",element:e.jsx(x,{})}),e.jsx(i,{path:"ai-employees",element:e.jsx(T,{})}),e.jsx(i,{path:"widgets",element:e.jsx(D,{})}),e.jsx(i,{path:"transactions",element:e.jsx(k,{})}),e.jsx(i,{path:"support",element:e.jsx(N,{})}),e.jsx(i,{path:"analytics",element:e.jsx(O,{})}),e.jsx(i,{path:"settings",element:e.jsx(R,{})})]}),e.jsx(i,{path:"/client-management",element:e.jsx(x,{})}),e.jsx(i,{path:"*",element:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600",children:"The page you're looking for doesn't exist."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})})]}),e.jsx(y,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"}}})]})})})})})})}export{q as default};
