const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Authentication-CJeu80r-.js","assets/admin-CKRX_Iv4.js","assets/router-CINeAvhf.js","assets/vendor-DJG_os-6.js","assets/icons-DnVO2Lau.js","assets/admin-DFM6P_3h.css","assets/index-DZVo-y6S.js","assets/index-DZyWkoqT.css","assets/ClientManagement-LDq2AWno.js","assets/ClientDetailsPage-DifZbs2h.js","assets/index-QBQGqzVA.js","assets/WidgetManagementPlaceholder-DZMYeUjA.js","assets/TransactionManagement-CJbGRFeR.js","assets/SupportTickets-BoMFVcgb.js","assets/AnalyticsOptimized-DGD-Cpu0.js","assets/SystemSettings-Ckn9cIKB.js"])))=>i.map(i=>d[i]);
import{_ as c}from"./index-DZVo-y6S.js";import{j as e,T as E,F as P}from"./admin-CKRX_Iv4.js";import{r as u,B as I,a as N,b as n,R as L}from"./router-CINeAvhf.js";import"./vendor-DJG_os-6.js";import"./icons-DnVO2Lau.js";const A=u.createContext(),R=({children:s})=>{const[t,a]=u.useState(null),[m,h]=u.useState(!1),[b,x]=u.useState(!0);u.useEffect(()=>{(()=>{try{const r=localStorage.getItem("isAuthenticated"),o=localStorage.getItem("user");r==="true"&&o&&(h(!0),a(JSON.parse(o)))}catch(r){console.error("Error checking authentication:",r),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("user")}finally{x(!1)}})()},[]);const k={user:t,isAuthenticated:m,isLoading:b,signIn:async(i,r)=>{try{const o=await j.signIn({email:i,password:r}),w={id:o.id||Date.now().toString(),email:o.email||i,name:o.name||"User",avatar:o.avatar||null};return a(w),h(!0),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("user",JSON.stringify(w)),{success:!0,user:w}}catch(o){throw new Error(o.message||"Sign in failed")}},signUp:async i=>{try{const r=await j.signUp(i),o={id:r.id||Date.now().toString(),email:r.email||i.email,name:r.name||i.name,avatar:r.avatar||null};return a(o),h(!0),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("user",JSON.stringify(o)),{success:!0,user:o}}catch(r){throw new Error(r.message||"Sign up failed")}},signOut:()=>{a(null),h(!1),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("user"),localStorage.removeItem("token")},updateUser:i=>{const r={...t,...i};a(r),localStorage.setItem("user",JSON.stringify(r))},forgotPassword:async i=>{try{return await j.forgotPassword({email:i}),{success:!0,message:"Password reset link sent to your email"}}catch(r){throw new Error(r.message||"Failed to send reset email")}},resetPassword:async(i,r)=>{try{return await j.resetPassword({token:i,password:r}),{success:!0,message:"Password reset successfully"}}catch(o){throw new Error(o.message||"Failed to reset password")}}};return e.jsx(A.Provider,{value:k,children:s})},j={signIn:async({email:s,password:t})=>{if(await new Promise(a=>setTimeout(a,1e3)),s==="admin@shivai.com"&&t==="Admin123")return{id:"1",email:"admin@shivai.com",name:"Admin User",avatar:null,token:"demo-token-123"};throw new Error("Invalid email or password")},signUp:async({name:s,email:t,password:a})=>(await new Promise(m=>setTimeout(m,1e3)),{id:Date.now().toString(),email:t,name:s,avatar:null,token:"demo-token-"+Date.now()}),forgotPassword:async({email:s})=>(await new Promise(t=>setTimeout(t,1e3)),{success:!0}),resetPassword:async({token:s,password:t})=>(await new Promise(a=>setTimeout(a,1e3)),{success:!0}),socialAuth:async s=>(await new Promise(t=>setTimeout(t,1e3)),{id:Date.now().toString(),email:`user@${s}.com`,name:`${s} User`,avatar:null,token:`${s}-token-`+Date.now()})},T=({defaultScript:s=""})=>{const[t,a]=u.useState(s),[m,h]=u.useState(!1),[b,x]=u.useState(null),f=l=>{const g=l.match(/src=["']([^"']+)["']/);return g?g[1]:null},v=()=>{if(x(null),!t.trim()){x("Please enter a valid script tag");return}const l=f(t);if(!l){x("Invalid script tag format. Please include a valid src attribute.");return}if(document.querySelector(`script[src="${l}"]`)){x("This script is already loaded");return}const p=document.createElement("script");p.src=l,p.async=!0,p.onload=()=>{h(!0),x(null)},p.onerror=()=>{x("Failed to load script. Please check the URL and try again."),h(!1)},document.body.appendChild(p)},y=()=>{const l=f(t);if(l){const g=document.querySelector(`script[src="${l}"]`);g&&(g.remove(),h(!1),x(null))}};return e.jsx("div",{className:"w-full max-w-4xl mx-auto p-4 sm:p-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-4 sm:p-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Script Loader"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Paste your script tag here:"}),e.jsx("textarea",{value:t,onChange:l=>a(l.target.value),placeholder:'<script src="https://example.com/widget.js?param=value"><\/script>',className:"w-full h-32 px-4 py-3 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-slate-800 dark:text-white font-mono text-sm resize-none"})]}),m&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsx("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Script loaded successfully!"})]}),b&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[e.jsx("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:b})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:v,disabled:m,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all duration-200 ${m?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white shadow-md hover:shadow-lg"}`,children:m?"Script Loaded":"Load Script"}),m&&e.jsx("button",{onClick:y,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg",children:"Remove Script"})]}),e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-800 dark:text-blue-300 mb-2",children:"ℹ️ How to use:"}),e.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-400 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Paste your complete script tag in the textarea above"}),e.jsx("li",{children:'Click "Load Script" to inject it into the page'}),e.jsx("li",{children:"The script will be added to the document body"}),e.jsx("li",{children:'Click "Remove Script" to unload it from the page'})]})]})]})]})})};class D extends L.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("Lazy loading failed:",t,a)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-700 mb-2",children:"Loading Error"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"Failed to load component. Please refresh the page."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Refresh Page"})]})}):this.props.children}}const d=(s,t)=>u.lazy(()=>s().catch(a=>(console.error(`Failed to load ${t}:`,a),{default:()=>e.jsxs("div",{children:["Error loading ",t]})}))),_=d(()=>c(()=>import("./Authentication-CJeu80r-.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),"Authentication"),C=d(()=>c(()=>import("./admin-CKRX_Iv4.js").then(s=>s.aQ),__vite__mapDeps([1,2,3,4,5])),"DashboardLayout"),O=d(()=>c(()=>import("./admin-CKRX_Iv4.js").then(s=>s.aR),__vite__mapDeps([1,2,3,4,5])),"DashboardHome"),S=d(()=>c(()=>import("./ClientManagement-LDq2AWno.js"),__vite__mapDeps([8,1,2,3,4,5])),"ClientManagement"),U=d(()=>c(()=>import("./ClientDetailsPage-DifZbs2h.js"),__vite__mapDeps([9,1,2,3,4,5,8])),"ClientDetailsPage"),z=d(()=>c(()=>import("./index-QBQGqzVA.js"),__vite__mapDeps([10,1,2,3,4,5])),"AIEmployeeStatsContainer"),V=d(()=>c(()=>import("./WidgetManagementPlaceholder-DZMYeUjA.js"),__vite__mapDeps([11,1,2,3,4,5])),"WidgetManagement"),F=d(()=>c(()=>import("./TransactionManagement-CJbGRFeR.js"),__vite__mapDeps([12,1,2,3,4,5])),"TransactionManagement"),M=d(()=>c(()=>import("./SupportTickets-BoMFVcgb.js"),__vite__mapDeps([13,1,2,3,4,5])),"SupportTickets"),$=d(()=>c(()=>import("./AnalyticsOptimized-DGD-Cpu0.js"),__vite__mapDeps([14,1,2,3,4,5])),"AnalyticsOptimized"),B=d(()=>c(()=>import("./SystemSettings-Ckn9cIKB.js"),__vite__mapDeps([15,1,2,3,4,5])),"SystemSettings"),J=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading..."})]})});function K(){return e.jsx("div",{className:"App",children:e.jsx(E,{children:e.jsx(R,{children:e.jsx(D,{children:e.jsx(u.Suspense,{fallback:e.jsx(J,{}),children:e.jsxs(I,{children:[e.jsxs(N,{children:[e.jsx(n,{path:"/",element:e.jsx(_,{})}),e.jsx(n,{path:"/login",element:e.jsx(_,{})}),e.jsx(n,{path:"/test/script-loader",element:e.jsx(T,{})}),e.jsxs(n,{path:"/dashboard",element:e.jsx(C,{}),children:[e.jsx(n,{index:!0,element:e.jsx(O,{})}),e.jsx(n,{path:"clients",element:e.jsx(S,{})}),e.jsx(n,{path:"clients/:clientId",element:e.jsx(U,{})}),e.jsx(n,{path:"ai-employees",element:e.jsx(z,{})}),e.jsx(n,{path:"widgets",element:e.jsx(V,{})}),e.jsx(n,{path:"transactions",element:e.jsx(F,{})}),e.jsx(n,{path:"support",element:e.jsx(M,{})}),e.jsx(n,{path:"analytics",element:e.jsx($,{})}),e.jsx(n,{path:"settings",element:e.jsx(B,{})})]}),e.jsx(n,{path:"/client-management",element:e.jsx(S,{})}),e.jsx(n,{path:"*",element:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600",children:"The page you're looking for doesn't exist."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})})]}),e.jsx(P,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"}}})]})})})})})})}export{K as default};
